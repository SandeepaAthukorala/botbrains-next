(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13099,e=>{"use strict";let a=(0,e.i(46443).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],13099)},12430,e=>{"use strict";var a=e.i(5064);function t({label:e,error:t,className:s="",...l}){return(0,a.jsxs)("div",{className:"w-full",children:[e&&(0,a.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2 transition-colors",children:e}),(0,a.jsx)("input",{className:`
                    w-full px-4 py-2.5
                    bg-background/50
                    border border-input
                    rounded-md
                    text-sm
                    text-foreground
                    placeholder:text-muted-foreground
                    focus:outline-none 
                    focus:ring-2 
                    focus:ring-primary/50 
                    focus:border-primary
                    focus:bg-background/80
                    disabled:cursor-not-allowed disabled:opacity-50
                    transition-all duration-300 ease-out
                    hover:border-input/80
                    shadow-sm focus:shadow-md
                    ${t?"border-destructive focus:ring-destructive/50 focus:border-destructive":""}
                    ${s}
                `,...l}),t&&(0,a.jsx)("p",{className:"mt-2 text-xs text-destructive animate-slide-up",children:t})]})}e.s(["Input",()=>t])},3571,e=>{"use strict";let a=(0,e.i(46443).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],3571)},43137,79290,e=>{"use strict";var a=e.i(5064),t=e.i(55029),s=e.i(8576),l=e.i(20106);let r=(0,e.i(46443).default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["Key",()=>r],79290);var i=e.i(45498);function o(){let e=(0,s.usePathname)(),o=[{path:"/settings/variable-defaults",label:"Variable Defaults",icon:l.Settings},{path:"/settings/api",label:"API Keys",icon:r}];return(0,a.jsx)("div",{className:"border-b border-white/10 mb-8",children:(0,a.jsx)("div",{className:"flex gap-1",children:o.map(s=>{let l=e===s.path,r=s.icon;return(0,a.jsx)(t.default,{href:s.path,className:"relative",children:(0,a.jsxs)(i.motion.div,{whileHover:{y:-2},className:`
                                    flex items-center gap-2 px-6 py-3 rounded-t-xl transition-colors
                                    ${l?"bg-white/5 text-primary border-b-2 border-primary":"text-secondary hover:text-primary hover:bg-white/5"}
                                `,children:[(0,a.jsx)(r,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"font-medium",children:s.label})]})},s.path)})})})}e.s(["SettingsTabs",()=>o],43137)},22444,e=>{"use strict";var a=e.i(20953),t=e.i(7960);e.i(4374);var s=e.i(41559);let l="globalVariableDefaults";async function r(){return(await (0,s.getDocs)((0,s.collection)(t.db,l))).docs.map(e=>e.data())}async function i(e){let a=(0,s.query)((0,s.collection)(t.db,l),(0,s.where)("variableName","==",e)),r=await (0,s.getDocs)(a);if(!r.empty)return r.docs[0].data()}async function o(e,a){let r=await i(e),o=new Date().toISOString();if(r)return await (0,s.updateDoc)((0,s.doc)(t.db,l,r.id),{defaultValue:a,updated_at:o}),{...r,defaultValue:a,updated_at:o};{let r=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,i={id:r,variableName:e,defaultValue:a,created_at:o,updated_at:o};return await (0,s.setDoc)((0,s.doc)(t.db,l,r),i),i}}async function d(e){let a=await i(e);a&&await (0,s.deleteDoc)((0,s.doc)(t.db,l,a.id))}let n=(0,a.create)((e,a)=>({globalDefaults:[],isLoading:!1,loadDefaults:async()=>{e({isLoading:!0});try{let a=await r();e({globalDefaults:a,isLoading:!1})}catch(a){console.error("Failed to load global defaults:",a),e({isLoading:!1})}},setDefault:async(a,t)=>{try{let s=await o(a,t);e(e=>e.globalDefaults.find(e=>e.variableName===a)?{globalDefaults:e.globalDefaults.map(e=>e.variableName===a?s:e)}:{globalDefaults:[...e.globalDefaults,s]})}catch(e){throw console.error("Failed to set default:",e),e}},deleteDefault:async a=>{try{await d(a),e(e=>({globalDefaults:e.globalDefaults.filter(e=>e.variableName!==a)}))}catch(e){throw console.error("Failed to delete default:",e),e}},getDefaultValue:e=>{let t=a().globalDefaults.find(a=>a.variableName===e);return t?.defaultValue}}));e.s(["useDefaultsStore",0,n],22444)},212,e=>{"use strict";var a=e.i(5064),t=e.i(84763),s=e.i(45770),l=e.i(3571),r=e.i(13099),i=e.i(12413),o=e.i(45498),d=e.i(22444),n=e.i(79511),c=e.i(12430),u=e.i(48143),m=e.i(43137);function f(){let e=(0,u.useToast)(),{globalDefaults:f,loadDefaults:h,setDefault:x,deleteDefault:b,isLoading:p}=(0,d.useDefaultsStore)(),[g,v]=(0,t.useState)(!1),[y,j]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),[D,k]=(0,t.useState)(null),[S,C]=(0,t.useState)("");(0,t.useEffect)(()=>{h()},[h]);let V=async()=>{if(!y.trim()||!N.trim())return void e.error("Variable name and value are required");try{await x(y.trim(),N.trim()),e.success("Default added successfully"),j(""),w(""),v(!1)}catch(a){e.error("Failed to add default")}},B=async a=>{if(!S.trim())return void e.error("Value cannot be empty");try{await x(a,S.trim()),e.success("Default updated"),k(null),C("")}catch(a){e.error("Failed to update default")}},M=async a=>{if(confirm(`Delete default for "${a}"?`))try{await b(a),e.success("Default deleted")}catch(a){e.error("Failed to delete default")}},T=()=>{k(null),C("")};return p?(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading defaults..."})}):(0,a.jsxs)("div",{className:"flex-1 p-8 max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)(o.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Settings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Configure your BotBrains preferences and API keys"})]}),(0,a.jsx)(m.SettingsTabs,{}),(0,a.jsx)(o.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:g?(0,a.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Add New Default"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsx)(c.Input,{label:"Variable Name",placeholder:"e.g., tone, audience, style",value:y,onChange:e=>j(e.target.value)}),(0,a.jsx)(c.Input,{label:"Default Value",placeholder:"e.g., professional",value:N,onChange:e=>w(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,a.jsxs)(n.Button,{variant:"ghost",onClick:()=>{v(!1),j(""),w("")},children:[(0,a.jsx)(i.X,{className:"w-4 h-4"}),"Cancel"]}),(0,a.jsxs)(n.Button,{onClick:V,children:[(0,a.jsx)(r.Save,{className:"w-4 h-4"}),"Save"]})]})]}):(0,a.jsxs)(n.Button,{onClick:()=>v(!0),children:[(0,a.jsx)(s.Plus,{className:"w-4 h-4"}),"Add New Default"]})}),0===f.length?(0,a.jsxs)(o.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-card border border-border border-dashed rounded-lg p-16 text-center",children:[(0,a.jsx)("div",{className:"text-5xl mb-4 opacity-70",children:"⚙️"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-3",children:"No defaults set"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-8",children:"Add global defaults to auto-fill your most commonly used variable values"})]}):(0,a.jsx)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"space-y-3",children:f.map(e=>(0,a.jsxs)(o.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-card border border-border rounded-lg p-4 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:D===e.id?(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsxs)("div",{className:"font-mono text-primary font-medium",children:["{{",e.variableName,"}}"]}),(0,a.jsx)(c.Input,{value:S,onChange:e=>C(e.target.value),className:"flex-1"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.Button,{onClick:()=>B(e.variableName),className:"px-2",children:(0,a.jsx)(r.Save,{className:"w-4 h-4"})}),(0,a.jsx)(n.Button,{variant:"ghost",onClick:T,className:"px-2",children:(0,a.jsx)(i.X,{className:"w-4 h-4"})})]})]}):(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsxs)("div",{className:"font-mono text-primary font-medium min-w-[150px]",children:["{{",e.variableName,"}}"]}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"→"}),(0,a.jsxs)("div",{className:"text-foreground font-medium",children:['"',e.defaultValue,'"']})]})}),D!==e.id&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Button,{variant:"ghost",onClick:()=>{k(e.id),C(e.defaultValue)},className:"h-8 text-xs",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>M(e.variableName),className:"p-2 hover:bg-destructive/10 rounded-md text-muted-foreground hover:text-destructive transition-colors",children:(0,a.jsx)(l.Trash2,{className:"w-4 h-4"})})]})]},e.id))})]})}function h(){return(0,a.jsx)(f,{})}e.s(["default",()=>h],212)}]);