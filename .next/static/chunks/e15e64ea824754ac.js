(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20911,e=>{"use strict";var t=e.i(5064);function r({label:e,error:r,mono:a=!1,className:s="",...o}){return(0,t.jsxs)("div",{className:"w-full",children:[e&&(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2 transition-colors",children:e}),(0,t.jsx)("textarea",{className:`
                    w-full px-4 py-2.5
                    bg-background/50
                    border border-input
                    rounded-md
                    text-sm
                    text-foreground
                    placeholder:text-muted-foreground
                    focus:outline-none 
                    focus:ring-2 
                    focus:ring-primary/50 
                    focus:border-primary
                    focus:bg-background/80
                    disabled:cursor-not-allowed disabled:opacity-50
                    resize-y
                    transition-all duration-300 ease-out
                    hover:border-input/80
                    shadow-sm focus:shadow-md
                    ${a?"font-mono":""}
                    ${r?"border-destructive focus:ring-destructive/50 focus:border-destructive":""}
                    ${s}
                `,...o}),r&&(0,t.jsx)("p",{className:"mt-2 text-xs text-destructive animate-slide-up",children:r})]})}e.s(["Textarea",()=>r])},53348,e=>{"use strict";var t=e.i(7960);e.i(4374);var r=e.i(41559);let a="categories";async function s(e,s,o,i){let n=`cat-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,l={id:n,name:e,color:s,description:o,workspaceId:i,created_at:new Date().toISOString()};return await (0,r.setDoc)((0,r.doc)(t.db,a,n),l),l}async function o(e){let s;s=e?(0,r.query)((0,r.collection)(t.db,a),(0,r.where)("workspaceId","==",e),(0,r.orderBy)("name")):(0,r.query)((0,r.collection)(t.db,a),(0,r.orderBy)("name"));try{return(await (0,r.getDocs)(s)).docs.map(e=>e.data())}catch(s){if("failed-precondition"===s.code){let s=e?(0,r.query)((0,r.collection)(t.db,a),(0,r.where)("workspaceId","==",e)):(0,r.collection)(t.db,a);return(await (0,r.getDocs)(s)).docs.map(e=>e.data()).sort((e,t)=>e.name.localeCompare(t.name))}throw s}}async function i(e){let s=(0,r.doc)(t.db,a,e),o=await (0,r.getDoc)(s);if(o.exists())return o.data()}async function n(e,s){let o=(0,r.doc)(t.db,a,e);await (0,r.updateDoc)(o,s)}async function l(e){await (0,r.deleteDoc)((0,r.doc)(t.db,a,e))}async function c(e,a){let s=(0,r.query)((0,r.collection)(t.db,"prompts"),(0,r.where)("category","==",e));return a&&(s=(0,r.query)(s,(0,r.where)("workspaceId","==",a))),(await (0,r.getCountFromServer)(s)).data().count}async function d(e,s){let o=(0,r.query)((0,r.collection)(t.db,a),(0,r.where)("name","==",e));s&&(o=(0,r.query)(o,(0,r.where)("workspaceId","==",s)));let i=await (0,r.getDocs)(o);if(!i.empty)return i.docs[0].data()}e.s(["createCategory",()=>s,"deleteCategory",()=>l,"getAllCategories",()=>o,"getCategory",()=>i,"getCategoryByName",()=>d,"getCategoryUsageCount",()=>c,"updateCategory",()=>n])},12430,e=>{"use strict";var t=e.i(5064);function r({label:e,error:r,className:a="",...s}){return(0,t.jsxs)("div",{className:"w-full",children:[e&&(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2 transition-colors",children:e}),(0,t.jsx)("input",{className:`
                    w-full px-4 py-2.5
                    bg-background/50
                    border border-input
                    rounded-md
                    text-sm
                    text-foreground
                    placeholder:text-muted-foreground
                    focus:outline-none 
                    focus:ring-2 
                    focus:ring-primary/50 
                    focus:border-primary
                    focus:bg-background/80
                    disabled:cursor-not-allowed disabled:opacity-50
                    transition-all duration-300 ease-out
                    hover:border-input/80
                    shadow-sm focus:shadow-md
                    ${r?"border-destructive focus:ring-destructive/50 focus:border-destructive":""}
                    ${a}
                `,...s}),r&&(0,t.jsx)("p",{className:"mt-2 text-xs text-destructive animate-slide-up",children:r})]})}e.s(["Input",()=>r])},3571,e=>{"use strict";let t=(0,e.i(46443).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],3571)},40658,e=>{"use strict";var t=e.i(5064);function r({className:e=""}){return(0,t.jsx)("div",{className:`
                animate-pulse rounded-md bg-muted/60
                relative overflow-hidden
                before:absolute before:inset-0
                before:-translate-x-full
                before:animate-[shimmer_2s_infinite]
                before:bg-gradient-to-r
                before:from-transparent before:via-white/10 before:to-transparent
                ${e}
            `})}e.s(["Skeleton",()=>r])},52164,32016,e=>{"use strict";let t=(0,e.i(46443).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],52164);var r=e.i(5064),a=e.i(12413),s=e.i(84763),o=e.i(45498),i=e.i(78922);function n({isOpen:e,onClose:t,title:n,children:l,size:c="md"}){return(0,s.useEffect)(()=>{let r=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,t]),(0,r.jsx)(i.AnimatePresence,{children:e&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsx)(o.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:t}),(0,r.jsxs)(o.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",stiffness:300,damping:30},className:`
                            relative w-full ${{sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"}[c]}
                            bg-card/95 border border-border/80 rounded-lg
                            shadow-xl shadow-black/20
                            backdrop-blur-xl
                        `,children:[n&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border/60",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:n}),(0,r.jsx)("button",{onClick:t,className:"text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted/50 p-1.5 rounded-md",children:(0,r.jsx)(a.X,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"p-6 max-h-[80vh] overflow-y-auto scrollbar-thin",children:l})]})]})})}e.s(["Modal",()=>n],32016)},91236,e=>{"use strict";var t=e.i(5064),r=e.i(84763),a=e.i(45770),s=e.i(52164),o=e.i(3571),i=e.i(20953),n=e.i(53348);let l=(0,i.create)(e=>({categories:[],isLoading:!1,loadCategories:async()=>{e({isLoading:!0});try{let t=await (0,n.getAllCategories)();e({categories:t,isLoading:!1})}catch(t){console.error("Failed to load categories:",t),e({isLoading:!1})}},createCategory:async(t,r,a)=>{let s=await (0,n.createCategory)(t,r,a);return e(e=>({categories:[...e.categories,s]})),s},updateCategory:async(t,r)=>{await (0,n.updateCategory)(t,r),e(e=>({categories:e.categories.map(e=>e.id===t?{...e,...r}:e)}))},deleteCategory:async t=>{await (0,n.deleteCategory)(t),e(e=>({categories:e.categories.filter(e=>e.id!==t)}))},getCategoryUsageCount:async e=>(0,n.getCategoryUsageCount)(e)}));var c=e.i(48143),d=e.i(79511),u=e.i(40658),m=e.i(32016),x=e.i(12430),g=e.i(20911);let p=["#00C2FF","#B78BFF","#FFB86B","#57D78A","#FF6B6B","#9AA9B6","#FFD600","#FF1744"];function h({category:e,isOpen:a,onClose:s,onSave:o}){let[i,n]=(0,r.useState)({name:"",color:"#00C2FF",description:""}),[l,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e?n({name:e.name,color:e.color,description:e.description||""}):n({name:"",color:"#00C2FF",description:""})},[e,a]);let u=async()=>{if(i.name.trim()){c(!0);try{await o(i),s()}catch(e){console.error("Failed to save category:",e)}finally{c(!1)}}};return(0,t.jsx)(m.Modal,{isOpen:a,onClose:s,title:e?"Edit Category":"Create Category",size:"md",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(x.Input,{label:"Name *",value:i.name,onChange:e=>n({...i,name:e.target.value}),placeholder:"e.g., Content Marketing",autoFocus:!0}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Color *"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:p.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>n({...i,color:e}),className:`w-8 h-8 rounded-full border-2 transition-all ${i.color===e?"border-accent scale-110":"border-muted hover:border-accent/50"}`,style:{backgroundColor:e},title:e},e))}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"color",value:i.color,onChange:e=>n({...i,color:e.target.value}),className:"w-12 h-10 rounded border border-muted cursor-pointer bg-transparent"}),(0,t.jsx)(x.Input,{value:i.color,onChange:e=>n({...i,color:e.target.value}),placeholder:"#00C2FF",className:"flex-1"})]})]}),(0,t.jsx)(g.Textarea,{label:"Description (optional)",value:i.description,onChange:e=>n({...i,description:e.target.value}),placeholder:"Brief description of this category...",rows:3}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4",children:[(0,t.jsx)(d.Button,{variant:"ghost",onClick:s,disabled:l,children:"Cancel"}),(0,t.jsxs)(d.Button,{onClick:u,isLoading:l,disabled:!i.name.trim(),children:[e?"Update":"Create"," Category"]})]})]})})}function f(){let e=l(e=>e.categories),i=l(e=>e.loadCategories),n=l(e=>e.createCategory),m=l(e=>e.updateCategory),x=l(e=>e.deleteCategory),g=l(e=>e.getCategoryUsageCount),p=(0,c.useToast)(),[f,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(),[j,w]=(0,r.useState)({}),[C,N]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{await i(),N(!1)})()},[i]),(0,r.useEffect)(()=>{let t=async()=>{let t={};for(let r of e)t[r.name]=await g(r.name);w(t)};e.length>0&&t()},[e,g]);let k=async e=>{try{b?(await m(b.id,e),p.success("Category updated")):(await n(e.name,e.color,e.description),p.success("Category created")),y(!1),v(void 0)}catch(e){p.error("Failed to save category"),console.error(e)}},F=async e=>{let t=j[e.name]||0;if(!(t>0)||confirm(`"${e.name}" is used in ${t} prompt(s). Delete anyway? Prompts will lose this category.`))try{await x(e.id),p.success("Category deleted")}catch(e){p.error("Failed to delete category"),console.error(e)}},S=()=>{v(void 0),y(!0)};return C?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 px-8 py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Skeleton,{className:"h-8 w-48 mb-2"}),(0,t.jsx)(u.Skeleton,{className:"h-4 w-64"})]}),(0,t.jsx)(u.Skeleton,{className:"h-10 w-32"})]}),(0,t.jsx)("div",{className:"space-y-3",children:Array.from({length:5}).map((e,r)=>(0,t.jsx)("div",{className:"bg-card border border-border rounded-lg p-4",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)(u.Skeleton,{className:"w-4 h-4 rounded-full"}),(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsx)(u.Skeleton,{className:"h-5 w-32"}),(0,t.jsx)(u.Skeleton,{className:"h-4 w-48"})]})]})})},r))})]}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 px-8 py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-1",children:"Categories"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Organize your prompts with color-coded categories"})]}),(0,t.jsxs)(d.Button,{onClick:S,children:[(0,t.jsx)(a.Plus,{className:"w-4 h-4"}),"New Category"]})]}),0===e.length?(0,t.jsxs)("div",{className:"bg-card/50 border border-border border-dashed rounded-lg p-16 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-6 opacity-50",children:"ðŸ“"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No categories yet"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-8",children:"Create your first category to organize your prompts"}),(0,t.jsxs)(d.Button,{onClick:S,children:[(0,t.jsx)(a.Plus,{className:"w-4 h-4"}),"Create Category"]})]}):(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsx)("div",{className:"bg-card border border-border rounded-lg p-4 transition-all hover:border-primary/40 group",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:e.color}}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-foreground",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Used in ",j[e.name]||0," prompt(s)"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>{v(e),y(!0)},className:"p-2 hover:bg-secondary rounded text-muted-foreground hover:text-foreground transition-colors",title:"Edit","aria-label":"Edit",children:(0,t.jsx)(s.Edit2,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>F(e),className:"p-2 hover:bg-destructive/10 rounded text-muted-foreground hover:text-destructive transition-colors",title:"Delete","aria-label":"Delete",children:(0,t.jsx)(o.Trash2,{className:"w-4 h-4"})})]})]})},e.id))}),(0,t.jsx)(h,{category:b,isOpen:f,onClose:()=>{y(!1),v(void 0)},onSave:k})]})}function y(){return(0,t.jsx)(f,{})}e.s(["default",()=>y],91236)}]);