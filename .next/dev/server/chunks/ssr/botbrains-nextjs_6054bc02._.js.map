{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/library/SearchBar.tsx"],"sourcesContent":["import { Search, X } from 'lucide-react';\r\nimport { useState, useEffect } from 'react';\r\n\r\ninterface SearchBarProps {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n}\r\n\r\nexport function SearchBar({ value, onChange, placeholder = 'Search prompts...' }: SearchBarProps) {\r\n    const [localValue, setLocalValue] = useState(value);\r\n\r\n    // Sync with external value\r\n    useEffect(() => {\r\n        setLocalValue(value);\r\n    }, [value]);\r\n\r\n    // Debounced search\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            onChange(localValue);\r\n        }, 300);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [localValue, onChange]);\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n            <input\r\n                type=\"text\"\r\n                value={localValue}\r\n                onChange={(e) => setLocalValue(e.target.value)}\r\n                placeholder={placeholder}\r\n                className=\"\r\n                    w-full pl-9 pr-9 py-2\r\n                    rounded-md text-sm\r\n                    bg-background border border-input\r\n                    focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary\r\n                    transition-all\r\n                    placeholder:text-muted-foreground\r\n                    text-foreground\r\n                \"\r\n            />\r\n            {localValue && (\r\n                <button\r\n                    onClick={() => setLocalValue('')}\r\n                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\r\n                >\r\n                    <X className=\"w-3.5 h-3.5\" />\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAQO,SAAS,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,mBAAmB,EAAkB;IAC5F,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wOAAQ,EAAC;IAE7C,2BAA2B;IAC3B,IAAA,yOAAS,EAAC;QACN,cAAc;IAClB,GAAG;QAAC;KAAM;IAEV,mBAAmB;IACnB,IAAA,yOAAS,EAAC;QACN,MAAM,QAAQ,WAAW;YACrB,SAAS;QACb,GAAG;QAEH,OAAO,IAAM,aAAa;IAC9B,GAAG;QAAC;QAAY;KAAS;IAEzB,qBACI,qQAAC;QAAI,WAAU;;0BACX,qQAAC,uOAAM;gBAAC,WAAU;;;;;;0BAClB,qQAAC;gBACG,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gBAC7C,aAAa;gBACb,WAAU;;;;;;YAUb,4BACG,qQAAC;gBACG,SAAS,IAAM,cAAc;gBAC7B,WAAU;0BAEV,cAAA,qQAAC,wNAAC;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAKjC"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/ui/Modal.tsx"],"sourcesContent":["import { X } from 'lucide-react';\r\nimport { useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nexport interface ModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    title?: string;\r\n    children: React.ReactNode;\r\n    size?: 'sm' | 'md' | 'lg' | 'xl';\r\n}\r\n\r\nexport function Modal({ isOpen, onClose, title, children, size = 'md' }: ModalProps) {\r\n    // Handle ESC key\r\n    useEffect(() => {\r\n        const handleEsc = (e: KeyboardEvent) => {\r\n            if (e.key === 'Escape') onClose();\r\n        };\r\n\r\n        if (isOpen) {\r\n            document.addEventListener('keydown', handleEsc);\r\n            document.body.style.overflow = 'hidden';\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener('keydown', handleEsc);\r\n            document.body.style.overflow = 'unset';\r\n        };\r\n    }, [isOpen, onClose]);\r\n\r\n    const sizes = {\r\n        sm: 'max-w-md',\r\n        md: 'max-w-2xl',\r\n        lg: 'max-w-4xl',\r\n        xl: 'max-w-6xl',\r\n    };\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {isOpen && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n                    {/* Backdrop */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        transition={{ duration: 0.2 }}\r\n                        className=\"absolute inset-0 bg-black/70 backdrop-blur-md\"\r\n                        onClick={onClose}\r\n                    />\r\n\r\n                    {/* Modal */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                        exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                        transition={{\r\n                            type: \"spring\",\r\n                            stiffness: 300,\r\n                            damping: 30\r\n                        }}\r\n                        className={`\r\n                            relative w-full ${sizes[size]}\r\n                            bg-card/95 border border-border/80 rounded-lg\r\n                            shadow-xl shadow-black/20\r\n                            backdrop-blur-xl\r\n                        `}\r\n                    >\r\n                        {/* Header */}\r\n                        {title && (\r\n                            <div className=\"flex items-center justify-between p-6 border-b border-border/60\">\r\n                                <h2 className=\"text-xl font-semibold text-foreground\">{title}</h2>\r\n                                <button\r\n                                    onClick={onClose}\r\n                                    className=\"text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted/50 p-1.5 rounded-md\"\r\n                                >\r\n                                    <X className=\"w-5 h-5\" />\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Content */}\r\n                        <div className=\"p-6 max-h-[80vh] overflow-y-auto scrollbar-thin\">\r\n                            {children}\r\n                        </div>\r\n                    </motion.div>\r\n                </div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;;;;;AAUO,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,EAAc;IAC/E,iBAAiB;IACjB,IAAA,yOAAS,EAAC;QACN,MAAM,YAAY,CAAC;YACf,IAAI,EAAE,GAAG,KAAK,UAAU;QAC5B;QAEA,IAAI,QAAQ;YACR,SAAS,gBAAgB,CAAC,WAAW;YACrC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACnC;QAEA,OAAO;YACH,SAAS,mBAAmB,CAAC,WAAW;YACxC,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACnC;IACJ,GAAG;QAAC;QAAQ;KAAQ;IAEpB,MAAM,QAAQ;QACV,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACR;IAEA,qBACI,qQAAC,mOAAe;kBACX,wBACG,qQAAC;YAAI,WAAU;;8BAEX,qQAAC,2NAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,WAAU;oBACV,SAAS;;;;;;8BAIb,qQAAC,2NAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAM,GAAG;oBAAG;oBAC1C,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAG,GAAG;oBAAE;oBACtC,MAAM;wBAAE,SAAS;wBAAG,OAAO;wBAAM,GAAG;oBAAG;oBACvC,YAAY;wBACR,MAAM;wBACN,WAAW;wBACX,SAAS;oBACb;oBACA,WAAW,CAAC;4CACQ,EAAE,KAAK,CAAC,KAAK,CAAC;;;;wBAIlC,CAAC;;wBAGA,uBACG,qQAAC;4BAAI,WAAU;;8CACX,qQAAC;oCAAG,WAAU;8CAAyC;;;;;;8CACvD,qQAAC;oCACG,SAAS;oCACT,WAAU;8CAEV,cAAA,qQAAC,wNAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAMzB,qQAAC;4BAAI,WAAU;sCACV;;;;;;;;;;;;;;;;;;;;;;;AAO7B"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/ui/Input.tsx"],"sourcesContent":["import type { InputHTMLAttributes } from 'react';\r\n\r\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n    label?: string;\r\n    error?: string;\r\n}\r\n\r\nexport function Input({ label, error, className = '', ...props }: InputProps) {\r\n    return (\r\n        <div className=\"w-full\">\r\n            {label && (\r\n                <label className=\"block text-sm font-medium text-foreground mb-2 transition-colors\">\r\n                    {label}\r\n                </label>\r\n            )}\r\n            <input\r\n                className={`\r\n                    w-full px-4 py-2.5\r\n                    bg-background/50\r\n                    border border-input\r\n                    rounded-md\r\n                    text-sm\r\n                    text-foreground\r\n                    placeholder:text-muted-foreground\r\n                    focus:outline-none \r\n                    focus:ring-2 \r\n                    focus:ring-primary/50 \r\n                    focus:border-primary\r\n                    focus:bg-background/80\r\n                    disabled:cursor-not-allowed disabled:opacity-50\r\n                    transition-all duration-300 ease-out\r\n                    hover:border-input/80\r\n                    shadow-sm focus:shadow-md\r\n                    ${error ? 'border-destructive focus:ring-destructive/50 focus:border-destructive' : ''}\r\n                    ${className}\r\n                `}\r\n                {...props}\r\n            />\r\n            {error && <p className=\"mt-2 text-xs text-destructive animate-slide-up\">{error}</p>}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAOO,SAAS,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,GAAG,OAAmB;IACxE,qBACI,qQAAC;QAAI,WAAU;;YACV,uBACG,qQAAC;gBAAM,WAAU;0BACZ;;;;;;0BAGT,qQAAC;gBACG,WAAW,CAAC;;;;;;;;;;;;;;;;;oBAiBR,EAAE,QAAQ,0EAA0E,GAAG;oBACvF,EAAE,UAAU;gBAChB,CAAC;gBACA,GAAG,KAAK;;;;;;YAEZ,uBAAS,qQAAC;gBAAE,WAAU;0BAAkD;;;;;;;;;;;;AAGrF"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/ui/Textarea.tsx"],"sourcesContent":["import type { TextareaHTMLAttributes } from 'react';\r\n\r\nexport interface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\r\n    label?: string;\r\n    error?: string;\r\n    mono?: boolean;\r\n}\r\n\r\nexport function Textarea({ label, error, mono = false, className = '', ...props }: TextareaProps) {\r\n    return (\r\n        <div className=\"w-full\">\r\n            {label && (\r\n                <label className=\"block text-sm font-medium text-foreground mb-2 transition-colors\">\r\n                    {label}\r\n                </label>\r\n            )}\r\n            <textarea\r\n                className={`\r\n                    w-full px-4 py-2.5\r\n                    bg-background/50\r\n                    border border-input\r\n                    rounded-md\r\n                    text-sm\r\n                    text-foreground\r\n                    placeholder:text-muted-foreground\r\n                    focus:outline-none \r\n                    focus:ring-2 \r\n                    focus:ring-primary/50 \r\n                    focus:border-primary\r\n                    focus:bg-background/80\r\n                    disabled:cursor-not-allowed disabled:opacity-50\r\n                    resize-y\r\n                    transition-all duration-300 ease-out\r\n                    hover:border-input/80\r\n                    shadow-sm focus:shadow-md\r\n                    ${mono ? 'font-mono' : ''}\r\n                    ${error ? 'border-destructive focus:ring-destructive/50 focus:border-destructive' : ''}\r\n                    ${className}\r\n                `}\r\n                {...props}\r\n            />\r\n            {error && <p className=\"mt-2 text-xs text-destructive animate-slide-up\">{error}</p>}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAQO,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,KAAK,EAAE,YAAY,EAAE,EAAE,GAAG,OAAsB;IAC5F,qBACI,qQAAC;QAAI,WAAU;;YACV,uBACG,qQAAC;gBAAM,WAAU;0BACZ;;;;;;0BAGT,qQAAC;gBACG,WAAW,CAAC;;;;;;;;;;;;;;;;;;oBAkBR,EAAE,OAAO,cAAc,GAAG;oBAC1B,EAAE,QAAQ,0EAA0E,GAAG;oBACvF,EAAE,UAAU;gBAChB,CAAC;gBACA,GAAG,KAAK;;;;;;YAEZ,uBAAS,qQAAC;gBAAE,WAAU;0BAAkD;;;;;;;;;;;;AAGrF"}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/ui/Select.tsx"],"sourcesContent":["import { type SelectHTMLAttributes } from 'react';\r\n\r\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\r\n    label?: string;\r\n    error?: string;\r\n    options: { value: string; label: string }[];\r\n}\r\n\r\nexport function Select({ label, error, options, className = '', ...props }: SelectProps) {\r\n    return (\r\n        <div className=\"w-full\">\r\n            {label && (\r\n                <label className=\"block text-sm font-medium text-foreground mb-1.5\">\r\n                    {label}\r\n                </label>\r\n            )}\r\n            <div className=\"relative\">\r\n                <select\r\n                    className={`\r\n                        w-full px-3 py-2\r\n                        bg-transparent\r\n                        border border-input\r\n                        rounded-md\r\n                        text-sm\r\n                        text-foreground\r\n                        focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary\r\n                        disabled:cursor-not-allowed disabled:opacity-50\r\n                        transition-all\r\n                        appearance-none\r\n                        cursor-pointer\r\n                        ${error ? 'border-destructive focus:ring-destructive' : ''}\r\n                        ${className}\r\n                    `}\r\n                    {...props}\r\n                >\r\n                    {options.map((option) => (\r\n                        <option key={option.value} value={option.value} className=\"bg-popover text-popover-foreground\">\r\n                            {option.label}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n                {/* Custom Arrow */}\r\n                <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none text-muted-foreground\">\r\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n            {error && <p className=\"mt-1.5 text-xs text-destructive\">{error}</p>}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAQO,SAAS,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE,EAAE,GAAG,OAAoB;IACnF,qBACI,qQAAC;QAAI,WAAU;;YACV,uBACG,qQAAC;gBAAM,WAAU;0BACZ;;;;;;0BAGT,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBACG,WAAW,CAAC;;;;;;;;;;;;wBAYR,EAAE,QAAQ,8CAA8C,GAAG;wBAC3D,EAAE,UAAU;oBAChB,CAAC;wBACA,GAAG,KAAK;kCAER,QAAQ,GAAG,CAAC,CAAC,uBACV,qQAAC;gCAA0B,OAAO,OAAO,KAAK;gCAAE,WAAU;0CACrD,OAAO,KAAK;+BADJ,OAAO,KAAK;;;;;;;;;;kCAMjC,qQAAC;wBAAI,WAAU;kCACX,cAAA,qQAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAC/D,cAAA,qQAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;YAIhF,uBAAS,qQAAC;gBAAE,WAAU;0BAAmC;;;;;;;;;;;;AAGtE"}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/utils/templateResolver.ts"],"sourcesContent":["/**\r\n * Extract variable tokens from a template string\r\n * Matches patterns like {{variableName}}\r\n */\r\nexport function extractVariables(template: string): string[] {\r\n    const regex = /\\{\\{([^}]+)\\}\\}/g;\r\n    const matches = [...template.matchAll(regex)];\r\n    const variables = matches.map(match => match[1].trim());\r\n\r\n    // Return unique variables\r\n    return [...new Set(variables)];\r\n}\r\n\r\n/**\r\n * Resolve a template by replacing variable tokens with values\r\n */\r\nexport function resolveTemplate(\r\n    template: string,\r\n    values: Record<string, string>\r\n): string {\r\n    let resolved = template;\r\n\r\n    for (const [key, value] of Object.entries(values)) {\r\n        const regex = new RegExp(`\\\\{\\\\{\\\\s*${key}\\\\s*\\\\}\\\\}`, 'g');\r\n        resolved = resolved.replace(regex, value);\r\n    }\r\n\r\n    return resolved;\r\n}\r\n\r\n/**\r\n * Check if a template has any unresolved variables\r\n */\r\nexport function hasUnresolvedVariables(template: string): boolean {\r\n    return /\\{\\{[^}]+\\}\\}/.test(template);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;AACM,SAAS,iBAAiB,QAAgB;IAC7C,MAAM,QAAQ;IACd,MAAM,UAAU;WAAI,SAAS,QAAQ,CAAC;KAAO;IAC7C,MAAM,YAAY,QAAQ,GAAG,CAAC,CAAA,QAAS,KAAK,CAAC,EAAE,CAAC,IAAI;IAEpD,0BAA0B;IAC1B,OAAO;WAAI,IAAI,IAAI;KAAW;AAClC;AAKO,SAAS,gBACZ,QAAgB,EAChB,MAA8B;IAE9B,IAAI,WAAW;IAEf,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,QAAS;QAC/C,MAAM,QAAQ,IAAI,OAAO,CAAC,UAAU,EAAE,IAAI,UAAU,CAAC,EAAE;QACvD,WAAW,SAAS,OAAO,CAAC,OAAO;IACvC;IAEA,OAAO;AACX;AAKO,SAAS,uBAAuB,QAAgB;IACnD,OAAO,gBAAgB,IAAI,CAAC;AAChC"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/utils/clipboard.ts"],"sourcesContent":["/**\r\n * Copy text to clipboard\r\n */\r\nexport async function copyToClipboard(text: string): Promise<boolean> {\r\n    try {\r\n        // Try modern clipboard API first\r\n        if (navigator.clipboard && window.isSecureContext) {\r\n            await navigator.clipboard.writeText(text);\r\n            return true;\r\n        }\r\n\r\n        // Fallback for older browsers or non-secure contexts\r\n        const textArea = document.createElement('textarea');\r\n        textArea.value = text;\r\n        textArea.style.position = 'fixed';\r\n        textArea.style.left = '-999999px';\r\n        textArea.style.top = '-999999px';\r\n        document.body.appendChild(textArea);\r\n        textArea.focus();\r\n        textArea.select();\r\n\r\n        const success = document.execCommand('copy');\r\n        textArea.remove();\r\n\r\n        return success;\r\n    } catch (error) {\r\n        console.error('Failed to copy to clipboard:', error);\r\n        return false;\r\n    }\r\n}\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AACM,eAAe,gBAAgB,IAAY;IAC9C,IAAI;QACA,iCAAiC;QACjC,IAAI,UAAU,SAAS,IAAI,OAAO,eAAe,EAAE;YAC/C,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;YACpC,OAAO;QACX;QAEA,qDAAqD;QACrD,MAAM,WAAW,SAAS,aAAa,CAAC;QACxC,SAAS,KAAK,GAAG;QACjB,SAAS,KAAK,CAAC,QAAQ,GAAG;QAC1B,SAAS,KAAK,CAAC,IAAI,GAAG;QACtB,SAAS,KAAK,CAAC,GAAG,GAAG;QACrB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,SAAS,KAAK;QACd,SAAS,MAAM;QAEf,MAAM,UAAU,SAAS,WAAW,CAAC;QACrC,SAAS,MAAM;QAEf,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;IACX;AACJ"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/lib/defaultsStorage.ts"],"sourcesContent":["import { db } from './firebase';\r\nimport { collection, doc, getDocs, setDoc, updateDoc, deleteDoc, query, where } from 'firebase/firestore';\r\nimport type { GlobalVariableDefault } from '@/types';\r\n\r\nconst COLLECTION = 'globalVariableDefaults';\r\n\r\n/**\r\n * Generate a unique ID\r\n */\r\nfunction generateId(): string {\r\n    return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n}\r\n\r\n/**\r\n * Get all global variable defaults\r\n */\r\nexport async function getAllDefaults(): Promise<GlobalVariableDefault[]> {\r\n    const querySnapshot = await getDocs(collection(db, COLLECTION));\r\n    return querySnapshot.docs.map(doc => doc.data() as GlobalVariableDefault);\r\n}\r\n\r\n/**\r\n * Get a specific global default by variable name\r\n */\r\nexport async function getDefault(variableName: string): Promise<GlobalVariableDefault | undefined> {\r\n    const q = query(collection(db, COLLECTION), where('variableName', '==', variableName));\r\n    const querySnapshot = await getDocs(q);\r\n\r\n    if (!querySnapshot.empty) {\r\n        return querySnapshot.docs[0].data() as GlobalVariableDefault;\r\n    }\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * Set or update a global variable default\r\n */\r\nexport async function setDefault(variableName: string, defaultValue: string): Promise<GlobalVariableDefault> {\r\n    // Check if default already exists\r\n    const existing = await getDefault(variableName);\r\n    const now = new Date().toISOString();\r\n\r\n    if (existing) {\r\n        // Update existing\r\n        await updateDoc(doc(db, COLLECTION, existing.id), {\r\n            defaultValue,\r\n            updated_at: now,\r\n        });\r\n        return {\r\n            ...existing,\r\n            defaultValue,\r\n            updated_at: now,\r\n        };\r\n    } else {\r\n        // Create new\r\n        const id = generateId();\r\n        const newDefault: GlobalVariableDefault = {\r\n            id,\r\n            variableName,\r\n            defaultValue,\r\n            created_at: now,\r\n            updated_at: now,\r\n        };\r\n        await setDoc(doc(db, COLLECTION, id), newDefault);\r\n        return newDefault;\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a global variable default\r\n */\r\nexport async function deleteDefault(variableName: string): Promise<void> {\r\n    const existing = await getDefault(variableName);\r\n    if (existing) {\r\n        await deleteDoc(doc(db, COLLECTION, existing.id));\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;;;AAGA,MAAM,aAAa;AAEnB;;CAEC,GACD,SAAS;IACL,OAAO,GAAG,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;AACrE;AAKO,eAAe;IAClB,MAAM,gBAAgB,MAAM,IAAA,mMAAO,EAAC,IAAA,sMAAU,EAAC,mJAAE,EAAE;IACnD,OAAO,cAAc,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,IAAI,IAAI;AACjD;AAKO,eAAe,WAAW,YAAoB;IACjD,MAAM,IAAI,IAAA,iMAAK,EAAC,IAAA,sMAAU,EAAC,mJAAE,EAAE,aAAa,IAAA,iMAAK,EAAC,gBAAgB,MAAM;IACxE,MAAM,gBAAgB,MAAM,IAAA,mMAAO,EAAC;IAEpC,IAAI,CAAC,cAAc,KAAK,EAAE;QACtB,OAAO,cAAc,IAAI,CAAC,EAAE,CAAC,IAAI;IACrC;IACA,OAAO;AACX;AAKO,eAAe,WAAW,YAAoB,EAAE,YAAoB;IACvE,kCAAkC;IAClC,MAAM,WAAW,MAAM,WAAW;IAClC,MAAM,MAAM,IAAI,OAAO,WAAW;IAElC,IAAI,UAAU;QACV,kBAAkB;QAClB,MAAM,IAAA,qMAAS,EAAC,IAAA,+LAAG,EAAC,mJAAE,EAAE,YAAY,SAAS,EAAE,GAAG;YAC9C;YACA,YAAY;QAChB;QACA,OAAO;YACH,GAAG,QAAQ;YACX;YACA,YAAY;QAChB;IACJ,OAAO;QACH,aAAa;QACb,MAAM,KAAK;QACX,MAAM,aAAoC;YACtC;YACA;YACA;YACA,YAAY;YACZ,YAAY;QAChB;QACA,MAAM,IAAA,kMAAM,EAAC,IAAA,+LAAG,EAAC,mJAAE,EAAE,YAAY,KAAK;QACtC,OAAO;IACX;AACJ;AAKO,eAAe,cAAc,YAAoB;IACpD,MAAM,WAAW,MAAM,WAAW;IAClC,IAAI,UAAU;QACV,MAAM,IAAA,qMAAS,EAAC,IAAA,+LAAG,EAAC,mJAAE,EAAE,YAAY,SAAS,EAAE;IACnD;AACJ"}},
    {"offset": {"line": 608, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/store/useDefaultsStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport type { GlobalVariableDefault } from '@/types';\r\nimport {\r\n    getAllDefaults,\r\n    setDefault as dbSetDefault,\r\n    deleteDefault as dbDeleteDefault,\r\n} from '@/lib/defaultsStorage';\r\n\r\ninterface DefaultsStore {\r\n    // State\r\n    globalDefaults: GlobalVariableDefault[];\r\n    isLoading: boolean;\r\n\r\n    // Actions\r\n    loadDefaults: () => Promise<void>;\r\n    setDefault: (variableName: string, defaultValue: string) => Promise<void>;\r\n    deleteDefault: (variableName: string) => Promise<void>;\r\n    getDefaultValue: (variableName: string) => string | undefined;\r\n}\r\n\r\nexport const useDefaultsStore = create<DefaultsStore>((set, get) => ({\r\n    // Initial state\r\n    globalDefaults: [],\r\n    isLoading: false,\r\n\r\n    // Load all global defaults\r\n    loadDefaults: async () => {\r\n        set({ isLoading: true });\r\n        try {\r\n            const defaults = await getAllDefaults();\r\n            set({ globalDefaults: defaults, isLoading: false });\r\n        } catch (error) {\r\n            console.error('Failed to load global defaults:', error);\r\n            set({ isLoading: false });\r\n        }\r\n    },\r\n\r\n    // Set or update a global default\r\n    setDefault: async (variableName, defaultValue) => {\r\n        try {\r\n            const updatedDefault = await dbSetDefault(variableName, defaultValue);\r\n            set(state => {\r\n                const existing = state.globalDefaults.find(d => d.variableName === variableName);\r\n                if (existing) {\r\n                    return {\r\n                        globalDefaults: state.globalDefaults.map(d =>\r\n                            d.variableName === variableName ? updatedDefault : d\r\n                        ),\r\n                    };\r\n                } else {\r\n                    return {\r\n                        globalDefaults: [...state.globalDefaults, updatedDefault],\r\n                    };\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.error('Failed to set default:', error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    // Delete a global default\r\n    deleteDefault: async (variableName) => {\r\n        try {\r\n            await dbDeleteDefault(variableName);\r\n            set(state => ({\r\n                globalDefaults: state.globalDefaults.filter(d => d.variableName !== variableName),\r\n            }));\r\n        } catch (error) {\r\n            console.error('Failed to delete default:', error);\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    // Get default value for a variable name\r\n    getDefaultValue: (variableName) => {\r\n        const defaultItem = get().globalDefaults.find(d => d.variableName === variableName);\r\n        return defaultItem?.defaultValue;\r\n    },\r\n}));\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AAkBO,MAAM,mBAAmB,IAAA,yKAAM,EAAgB,CAAC,KAAK,MAAQ,CAAC;QACjE,gBAAgB;QAChB,gBAAgB,EAAE;QAClB,WAAW;QAEX,2BAA2B;QAC3B,cAAc;YACV,IAAI;gBAAE,WAAW;YAAK;YACtB,IAAI;gBACA,MAAM,WAAW,MAAM,IAAA,sKAAc;gBACrC,IAAI;oBAAE,gBAAgB;oBAAU,WAAW;gBAAM;YACrD,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,mCAAmC;gBACjD,IAAI;oBAAE,WAAW;gBAAM;YAC3B;QACJ;QAEA,iCAAiC;QACjC,YAAY,OAAO,cAAc;YAC7B,IAAI;gBACA,MAAM,iBAAiB,MAAM,IAAA,kKAAY,EAAC,cAAc;gBACxD,IAAI,CAAA;oBACA,MAAM,WAAW,MAAM,cAAc,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,YAAY,KAAK;oBACnE,IAAI,UAAU;wBACV,OAAO;4BACH,gBAAgB,MAAM,cAAc,CAAC,GAAG,CAAC,CAAA,IACrC,EAAE,YAAY,KAAK,eAAe,iBAAiB;wBAE3D;oBACJ,OAAO;wBACH,OAAO;4BACH,gBAAgB;mCAAI,MAAM,cAAc;gCAAE;6BAAe;wBAC7D;oBACJ;gBACJ;YACJ,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,0BAA0B;gBACxC,MAAM;YACV;QACJ;QAEA,0BAA0B;QAC1B,eAAe,OAAO;YAClB,IAAI;gBACA,MAAM,IAAA,qKAAe,EAAC;gBACtB,IAAI,CAAA,QAAS,CAAC;wBACV,gBAAgB,MAAM,cAAc,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,YAAY,KAAK;oBACxE,CAAC;YACL,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,6BAA6B;gBAC3C,MAAM;YACV;QACJ;QAEA,wCAAwC;QACxC,iBAAiB,CAAC;YACd,MAAM,cAAc,MAAM,cAAc,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,YAAY,KAAK;YACtE,OAAO,aAAa;QACxB;IACJ,CAAC"}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/resolve/ResolveModal.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Copy, Eye } from 'lucide-react';\r\nimport type { Prompt, Variable } from '@/types';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Textarea } from '@/components/ui/Textarea';\r\nimport { Select } from '@/components/ui/Select';\r\nimport { resolveTemplate } from '@/utils/templateResolver';\r\nimport { copyToClipboard } from '@/utils/clipboard';\r\nimport { useToast } from '@/hooks/useToast';\r\nimport { usePromptStore } from '@/store/usePromptStore';\r\nimport { useDefaultsStore } from '@/store/useDefaultsStore';\r\n\r\ninterface ResolveModalProps {\r\n    prompt: Prompt;\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n}\r\n\r\nexport function ResolveModal({ prompt, isOpen, onClose }: ResolveModalProps) {\r\n    const toast = useToast();\r\n    const trackUsage = usePromptStore((state) => state.trackUsage);\r\n    const { globalDefaults, loadDefaults } = useDefaultsStore();\r\n    const [values, setValues] = useState<Record<string, string>>({});\r\n    const [showPreview, setShowPreview] = useState(false);\r\n\r\n    // Load global defaults on mount\r\n    useEffect(() => {\r\n        loadDefaults();\r\n    }, [loadDefaults]);\r\n\r\n    // Initialize with default values (per-prompt defaults override global defaults)\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            const defaults: Record<string, string> = {};\r\n            prompt.variables.forEach((v) => {\r\n                // Priority: per-prompt default > global default > empty\r\n                if (v.default) {\r\n                    defaults[v.name] = v.default;\r\n                } else {\r\n                    const globalDefault = globalDefaults.find((d: any) => d.variableName === v.name);\r\n                    defaults[v.name] = globalDefault?.defaultValue || '';\r\n                }\r\n            });\r\n            setValues(defaults);\r\n            setShowPreview(false);\r\n        }\r\n    }, [isOpen, prompt.variables, globalDefaults]);\r\n\r\n    const resolved = resolveTemplate(prompt.prompt_template, values);\r\n\r\n    const handleCopy = async () => {\r\n        const success = await copyToClipboard(resolved);\r\n        if (success) {\r\n            // Track usage for analytics\r\n            await trackUsage(prompt.id);\r\n            toast.success('Copied to clipboard âœ“');\r\n            onClose();\r\n        } else {\r\n            toast.error('Failed to copy');\r\n        }\r\n    };\r\n\r\n    const handleValueChange = (varName: string, value: string) => {\r\n        setValues((prev) => ({ ...prev, [varName]: value }));\r\n    };\r\n\r\n    const renderVariableInput = (variable: Variable) => {\r\n        const value = values[variable.name] || '';\r\n\r\n        switch (variable.type) {\r\n            case 'textarea':\r\n                return (\r\n                    <Textarea\r\n                        key={variable.name}\r\n                        label={variable.name}\r\n                        placeholder={variable.placeholder}\r\n                        value={value}\r\n                        onChange={(e) => handleValueChange(variable.name, e.target.value)}\r\n                        rows={3}\r\n                    />\r\n                );\r\n\r\n            case 'select':\r\n                return (\r\n                    <Select\r\n                        key={variable.name}\r\n                        label={variable.name}\r\n                        value={value}\r\n                        onChange={(e) => handleValueChange(variable.name, e.target.value)}\r\n                        options={\r\n                            variable.options?.map((opt) => ({ value: opt, label: opt })) || []\r\n                        }\r\n                    />\r\n                );\r\n\r\n            default:\r\n                return (\r\n                    <Input\r\n                        key={variable.name}\r\n                        label={variable.name}\r\n                        placeholder={variable.placeholder}\r\n                        value={value}\r\n                        onChange={(e) => handleValueChange(variable.name, e.target.value)}\r\n                    />\r\n                );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal isOpen={isOpen} onClose={onClose} title={`Use: ${prompt.title}`} size=\"lg\">\r\n            <div className=\"space-y-6\">\r\n                {/* Variables Section */}\r\n                {prompt.variables.length > 0 ? (\r\n                    <div className=\"space-y-4\">\r\n                        <h3 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wide\">\r\n                            Fill Variables\r\n                        </h3>\r\n                        {prompt.variables.map(renderVariableInput)}\r\n                    </div>\r\n                ) : (\r\n                    <p className=\"text-sm text-muted-foreground\">No variables in this prompt.</p>\r\n                )}\r\n\r\n                {/* Preview Section */}\r\n                <div>\r\n                    <button\r\n                        onClick={() => setShowPreview(!showPreview)}\r\n                        className=\"flex items-center gap-2 text-sm font-semibold text-muted-foreground hover:text-foreground transition-colors mb-2\"\r\n                    >\r\n                        <Eye className=\"w-4 h-4\" />\r\n                        {showPreview ? 'Hide' : 'Show'} Preview\r\n                    </button>\r\n\r\n                    {showPreview && (\r\n                        <div className=\"p-4 bg-muted/50 border border-border rounded-md\">\r\n                            <pre className=\"text-sm text-foreground whitespace-pre-wrap font-mono\">\r\n                                {resolved}\r\n                            </pre>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex items-center justify-end gap-3 pt-4 border-t border-border\">\r\n                    <Button variant=\"ghost\" onClick={onClose}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleCopy}>\r\n                        <Copy className=\"w-4 h-4\" />\r\n                        Copy Prompt\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 934, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/ui/UsageStats.tsx"],"sourcesContent":["import { Clock, Flame } from 'lucide-react';\r\nimport { formatDistanceToNow } from 'date-fns';\r\n\r\ninterface UsageStatsProps {\r\n    usageCount?: number;\r\n    lastUsedAt?: string;\r\n}\r\n\r\nexport function UsageStats({ usageCount = 0, lastUsedAt }: UsageStatsProps) {\r\n    const isHot = usageCount >= 10;\r\n    const isNew = usageCount === 0;\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-3 text-xs text-zinc-400\">\r\n            {/* Usage count */}\r\n            <div className=\"flex items-center gap-1\">\r\n                <span className=\"font-medium\">{usageCount}</span>\r\n                <span>uses</span>\r\n            </div>\r\n\r\n            {/* Last used timestamp */}\r\n            {lastUsedAt && (\r\n                <div className=\"flex items-center gap-1\">\r\n                    <Clock size={12} />\r\n                    <span>{formatDistanceToNow(new Date(lastUsedAt), { addSuffix: true })}</span>\r\n                </div>\r\n            )}\r\n\r\n            {/* Hot badge for frequently used prompts */}\r\n            {isHot && (\r\n                <div className=\"flex items-center gap-1 px-2 py-0.5 rounded-full bg-orange-500/10 text-orange-400 border border-orange-500/20\">\r\n                    <Flame size={12} />\r\n                    <span className=\"font-medium\">Hot</span>\r\n                </div>\r\n            )}\r\n\r\n            {/* New badge for unused prompts */}\r\n            {isNew && (\r\n                <div className=\"px-2 py-0.5 rounded-full bg-blue-500/10 text-blue-400 border border-blue-500/20\">\r\n                    <span className=\"font-medium\">New</span>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAOO,SAAS,WAAW,EAAE,aAAa,CAAC,EAAE,UAAU,EAAmB;IACtE,MAAM,QAAQ,cAAc;IAC5B,MAAM,QAAQ,eAAe;IAE7B,qBACI,qQAAC;QAAI,WAAU;;0BAEX,qQAAC;gBAAI,WAAU;;kCACX,qQAAC;wBAAK,WAAU;kCAAe;;;;;;kCAC/B,qQAAC;kCAAK;;;;;;;;;;;;YAIT,4BACG,qQAAC;gBAAI,WAAU;;kCACX,qQAAC,oOAAK;wBAAC,MAAM;;;;;;kCACb,qQAAC;kCAAM,IAAA,gMAAmB,EAAC,IAAI,KAAK,aAAa;4BAAE,WAAW;wBAAK;;;;;;;;;;;;YAK1E,uBACG,qQAAC;gBAAI,WAAU;;kCACX,qQAAC,oOAAK;wBAAC,MAAM;;;;;;kCACb,qQAAC;wBAAK,WAAU;kCAAc;;;;;;;;;;;;YAKrC,uBACG,qQAAC;gBAAI,WAAU;0BACX,cAAA,qQAAC;oBAAK,WAAU;8BAAc;;;;;;;;;;;;;;;;;AAKlD"}},
    {"offset": {"line": 1050, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/ui/DeleteConfirmModal.tsx"],"sourcesContent":["import { X, AlertTriangle } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface DeleteConfirmModalProps {\r\n    isOpen: boolean;\r\n    onConfirm: () => void;\r\n    onCancel: () => void;\r\n    promptTitle: string;\r\n}\r\n\r\nexport function DeleteConfirmModal({ isOpen, onConfirm, onCancel, promptTitle }: DeleteConfirmModalProps) {\r\n    return (\r\n        <AnimatePresence>\r\n            {isOpen && (\r\n                <>\r\n                    {/* Backdrop */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        onClick={onCancel}\r\n                        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50\"\r\n                    />\r\n\r\n                    {/* Modal */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                        exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                        transition={{ type: 'spring', stiffness: 300, damping: 30 }}\r\n                        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none\"\r\n                    >\r\n                        <div className=\"bg-card border border-border rounded-xl shadow-2xl max-w-md w-full pointer-events-auto\">\r\n                            {/* Header */}\r\n                            <div className=\"flex items-center gap-3 p-6 border-b border-border\">\r\n                                <div className=\"w-10 h-10 rounded-lg bg-destructive/10 flex items-center justify-center\">\r\n                                    <AlertTriangle className=\"w-5 h-5 text-destructive\" />\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <h2 className=\"text-lg font-semibold text-foreground\">\r\n                                        Delete Prompt?\r\n                                    </h2>\r\n                                </div>\r\n                                <button\r\n                                    onClick={onCancel}\r\n                                    className=\"p-2 rounded-lg hover:bg-background transition-colors text-muted-foreground hover:text-foreground\"\r\n                                >\r\n                                    <X size={20} />\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Content */}\r\n                            <div className=\"p-6\">\r\n                                <p className=\"text-muted-foreground mb-2\">\r\n                                    Are you sure you want to delete this prompt?\r\n                                </p>\r\n                                <p className=\"text-sm font-medium text-foreground bg-muted/50 p-3 rounded-lg\">\r\n                                    {promptTitle}\r\n                                </p>\r\n                                <p className=\"text-sm text-destructive/80 mt-3\">\r\n                                    This action cannot be undone.\r\n                                </p>\r\n                            </div>\r\n\r\n                            {/* Footer */}\r\n                            <div className=\"flex items-center justify-end gap-3 p-6 border-t border-border bg-background/50\">\r\n                                <button\r\n                                    onClick={onCancel}\r\n                                    className=\"px-4 py-2 rounded-lg border border-border text-foreground hover:bg-background transition-colors\"\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n                                <button\r\n                                    onClick={onConfirm}\r\n                                    className=\"px-4 py-2 rounded-lg bg-destructive text-white hover:bg-destructive/90 transition-colors font-medium\"\r\n                                >\r\n                                    Delete Prompt\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                </>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AAAA;;;;AASO,SAAS,mBAAmB,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,EAA2B;IACpG,qBACI,qQAAC,mOAAe;kBACX,wBACG;;8BAEI,qQAAC,2NAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,SAAS;oBACT,WAAU;;;;;;8BAId,qQAAC,2NAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAM,GAAG;oBAAG;oBAC1C,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAG,GAAG;oBAAE;oBACtC,MAAM;wBAAE,SAAS;wBAAG,OAAO;wBAAM,GAAG;oBAAG;oBACvC,YAAY;wBAAE,MAAM;wBAAU,WAAW;wBAAK,SAAS;oBAAG;oBAC1D,WAAU;8BAEV,cAAA,qQAAC;wBAAI,WAAU;;0CAEX,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCAAI,WAAU;kDACX,cAAA,qQAAC,gQAAa;4CAAC,WAAU;;;;;;;;;;;kDAE7B,qQAAC;wCAAI,WAAU;kDACX,cAAA,qQAAC;4CAAG,WAAU;sDAAwC;;;;;;;;;;;kDAI1D,qQAAC;wCACG,SAAS;wCACT,WAAU;kDAEV,cAAA,qQAAC,wNAAC;4CAAC,MAAM;;;;;;;;;;;;;;;;;0CAKjB,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCAAE,WAAU;kDAA6B;;;;;;kDAG1C,qQAAC;wCAAE,WAAU;kDACR;;;;;;kDAEL,qQAAC;wCAAE,WAAU;kDAAmC;;;;;;;;;;;;0CAMpD,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCACG,SAAS;wCACT,WAAU;kDACb;;;;;;kDAGD,qQAAC;wCACG,SAAS;wCACT,WAAU;kDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjC"}},
    {"offset": {"line": 1244, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/library/PromptCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Edit2, Copy, Trash2, PlayCircle, Star, GitMerge } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { motion } from 'framer-motion';\r\nimport type { Prompt } from '@/types';\r\nimport { usePromptStore } from '@/store/usePromptStore';\r\nimport { useState, useMemo } from 'react';\r\nimport { ResolveModal } from '@/components/resolve/ResolveModal';\r\nimport { UsageStats } from '@/components/ui/UsageStats';\r\nimport { DeleteConfirmModal } from '@/components/ui/DeleteConfirmModal';\r\n\r\ninterface PromptCardProps {\r\n    prompt: Prompt;\r\n}\r\n\r\nconst typeColorMap: Record<string, string> = {\r\n    LLM: 'bg-blue-500/10 text-blue-500 border-blue-500/20',\r\n    Image: 'bg-purple-500/10 text-purple-500 border-purple-500/20',\r\n    Video: 'bg-orange-500/10 text-orange-500 border-orange-500/20',\r\n    Automation: 'bg-emerald-500/10 text-emerald-500 border-emerald-500/20',\r\n    Other: 'bg-zinc-500/10 text-zinc-500 border-zinc-500/20',\r\n};\r\n\r\nexport function PromptCard({ prompt }: PromptCardProps) {\r\n    const deletePrompt = usePromptStore((state) => state.deletePrompt);\r\n    const duplicatePrompt = usePromptStore((state) => state.duplicatePrompt);\r\n    const toggleFavorite = usePromptStore((state) => state.toggleFavorite);\r\n    const prompts = usePromptStore((state) => state.prompts);\r\n    const [showResolveModal, setShowResolveModal] = useState(false);\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n\r\n    const parentPrompt = useMemo(() =>\r\n        prompt.parentId ? prompts.find(p => p.id === prompt.parentId) : null\r\n        , [prompt.parentId, prompts]);\r\n\r\n    const handleDelete = async (e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        console.log('ðŸ—‘ï¸ Delete button clicked for prompt:', prompt.id);\r\n        setShowDeleteConfirm(true);\r\n    };\r\n\r\n    const confirmDelete = async () => {\r\n        console.log('Calling deletePrompt...');\r\n        try {\r\n            await deletePrompt(prompt.id);\r\n            console.log('âœ… Prompt deleted successfully');\r\n            setShowDeleteConfirm(false);\r\n        } catch (error) {\r\n            console.error('âŒ Delete failed:', error);\r\n        }\r\n    };\r\n\r\n    const handleDuplicate = async (e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        await duplicatePrompt(prompt.id);\r\n    };\r\n\r\n    const handleResolve = (e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        setShowResolveModal(true);\r\n    };\r\n\r\n    const handleToggleFavorite = async (e: React.MouseEvent) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        await toggleFavorite(prompt.id);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <motion.div\r\n                layout\r\n                whileHover={{ y: -2 }}\r\n                transition={{ duration: 0.2 }}\r\n                className=\"group relative flex flex-col p-5 bg-card border border-border rounded-lg hover:border-primary/50 transition-colors h-full\"\r\n            >\r\n                {/* Header */}\r\n                <div className=\"flex items-start justify-between mb-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <span className={`px-2 py-0.5 rounded text-[10px] font-medium border ${typeColorMap[prompt.type] || typeColorMap['Other']}`}>\r\n                            {prompt.type}\r\n                        </span>\r\n\r\n                        {/* Composition Badge */}\r\n                        {parentPrompt && (\r\n                            <div className=\"flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium bg-secondary/20 text-secondary border border-secondary/30\" title={`Inherits from: ${parentPrompt.title}`}>\r\n                                <GitMerge size={10} />\r\n                                <span className=\"max-w-[80px] truncate\">{parentPrompt.title}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-1\">\r\n                        {/* Favorite Star */}\r\n                        <button\r\n                            onClick={handleToggleFavorite}\r\n                            className={`p-1 rounded hover:bg-muted transition-colors ${prompt.isFavorite ? 'text-yellow-500' : 'text-muted-foreground opacity-0 group-hover:opacity-100'}`}\r\n                        >\r\n                            <Star className={`w-3.5 h-3.5 ${prompt.isFavorite ? 'fill-current' : ''}`} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Title */}\r\n                <Link href={`/prompt/${prompt.id}`} className=\"block mb-2\">\r\n                    <h3 className=\"text-base font-semibold text-foreground group-hover:text-primary transition-colors line-clamp-1\">\r\n                        {prompt.title}\r\n                    </h3>\r\n                </Link>\r\n\r\n                {/* Template Preview */}\r\n                <p className=\"text-xs text-muted-foreground line-clamp-3 mb-4 font-mono leading-relaxed bg-muted/30 p-2 rounded\">\r\n                    {prompt.prompt_template}\r\n                </p>\r\n\r\n                <div className=\"mt-auto pt-4 border-t border-border/50 flex items-center justify-between text-xs text-muted-foreground\">\r\n                    <UsageStats usageCount={prompt.usageCount} lastUsedAt={prompt.lastUsedAt} />\r\n\r\n                    {/* Actions - visible on hover */}\r\n                    <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity absolute bottom-4 right-4 bg-card border border-border shadow-sm rounded-md p-1\">\r\n                        <button onClick={handleResolve} className=\"p-1.5 hover:bg-primary/10 hover:text-primary rounded\" title=\"Run\">\r\n                            <PlayCircle className=\"w-3.5 h-3.5\" />\r\n                        </button>\r\n                        <Link href={`/prompt/${prompt.id}`} className=\"p-1.5 hover:bg-muted hover:text-foreground rounded\" title=\"Edit\">\r\n                            <Edit2 className=\"w-3.5 h-3.5\" />\r\n                        </Link>\r\n                        <button onClick={handleDuplicate} className=\"p-1.5 hover:bg-muted hover:text-foreground rounded\" title=\"Duplicate\">\r\n                            <Copy className=\"w-3.5 h-3.5\" />\r\n                        </button>\r\n                        <button onClick={handleDelete} className=\"p-1.5 hover:bg-destructive/10 hover:text-destructive rounded\" title=\"Delete\">\r\n                            <Trash2 className=\"w-3.5 h-3.5\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </motion.div>\r\n\r\n            {showResolveModal && (\r\n                <ResolveModal\r\n                    prompt={prompt}\r\n                    isOpen={showResolveModal}\r\n                    onClose={() => setShowResolveModal(false)}\r\n                />\r\n            )}\r\n\r\n            <DeleteConfirmModal\r\n                isOpen={showDeleteConfirm}\r\n                onConfirm={confirmDelete}\r\n                onCancel={() => setShowDeleteConfirm(false)}\r\n                promptTitle={prompt.title}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;AAgBA,MAAM,eAAuC;IACzC,KAAK;IACL,OAAO;IACP,OAAO;IACP,YAAY;IACZ,OAAO;AACX;AAEO,SAAS,WAAW,EAAE,MAAM,EAAmB;IAClD,MAAM,eAAe,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,YAAY;IACjE,MAAM,kBAAkB,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,eAAe;IACvE,MAAM,iBAAiB,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,cAAc;IACrE,MAAM,UAAU,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,OAAO;IACvD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wOAAQ,EAAC;IACzD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,wOAAQ,EAAC;IAE3D,MAAM,eAAe,IAAA,uOAAO,EAAC,IACzB,OAAO,QAAQ,GAAG,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO,QAAQ,IAAI,MAC9D;QAAC,OAAO,QAAQ;QAAE;KAAQ;IAEhC,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,QAAQ,GAAG,CAAC,yCAAyC,OAAO,EAAE;QAC9D,qBAAqB;IACzB;IAEA,MAAM,gBAAgB;QAClB,QAAQ,GAAG,CAAC;QACZ,IAAI;YACA,MAAM,aAAa,OAAO,EAAE;YAC5B,QAAQ,GAAG,CAAC;YACZ,qBAAqB;QACzB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,oBAAoB;QACtC;IACJ;IAEA,MAAM,kBAAkB,OAAO;QAC3B,EAAE,cAAc;QAChB,MAAM,gBAAgB,OAAO,EAAE;IACnC;IAEA,MAAM,gBAAgB,CAAC;QACnB,EAAE,cAAc;QAChB,oBAAoB;IACxB;IAEA,MAAM,uBAAuB,OAAO;QAChC,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,MAAM,eAAe,OAAO,EAAE;IAClC;IAEA,qBACI;;0BACI,qQAAC,2NAAM,CAAC,GAAG;gBACP,MAAM;gBACN,YAAY;oBAAE,GAAG,CAAC;gBAAE;gBACpB,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;;kCAGV,qQAAC;wBAAI,WAAU;;0CACX,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCAAK,WAAW,CAAC,mDAAmD,EAAE,YAAY,CAAC,OAAO,IAAI,CAAC,IAAI,YAAY,CAAC,QAAQ,EAAE;kDACtH,OAAO,IAAI;;;;;;oCAIf,8BACG,qQAAC;wCAAI,WAAU;wCAAkI,OAAO,CAAC,eAAe,EAAE,aAAa,KAAK,EAAE;;0DAC1L,qQAAC,iPAAQ;gDAAC,MAAM;;;;;;0DAChB,qQAAC;gDAAK,WAAU;0DAAyB,aAAa,KAAK;;;;;;;;;;;;;;;;;;0CAKvE,qQAAC;gCAAI,WAAU;0CAEX,cAAA,qQAAC;oCACG,SAAS;oCACT,WAAW,CAAC,6CAA6C,EAAE,OAAO,UAAU,GAAG,oBAAoB,2DAA2D;8CAE9J,cAAA,qQAAC,iOAAI;wCAAC,WAAW,CAAC,YAAY,EAAE,OAAO,UAAU,GAAG,iBAAiB,IAAI;;;;;;;;;;;;;;;;;;;;;;kCAMrF,qQAAC,8LAAI;wBAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE;wBAAE,WAAU;kCAC1C,cAAA,qQAAC;4BAAG,WAAU;sCACT,OAAO,KAAK;;;;;;;;;;;kCAKrB,qQAAC;wBAAE,WAAU;kCACR,OAAO,eAAe;;;;;;kCAG3B,qQAAC;wBAAI,WAAU;;0CACX,qQAAC,2KAAU;gCAAC,YAAY,OAAO,UAAU;gCAAE,YAAY,OAAO,UAAU;;;;;;0CAGxE,qQAAC;gCAAI,WAAU;;kDACX,qQAAC;wCAAO,SAAS;wCAAe,WAAU;wCAAuD,OAAM;kDACnG,cAAA,qQAAC,uPAAU;4CAAC,WAAU;;;;;;;;;;;kDAE1B,qQAAC,8LAAI;wCAAC,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE,EAAE;wCAAE,WAAU;wCAAqD,OAAM;kDACrG,cAAA,qQAAC,kOAAK;4CAAC,WAAU;;;;;;;;;;;kDAErB,qQAAC;wCAAO,SAAS;wCAAiB,WAAU;wCAAqD,OAAM;kDACnG,cAAA,qQAAC,iOAAI;4CAAC,WAAU;;;;;;;;;;;kDAEpB,qQAAC;wCAAO,SAAS;wCAAc,WAAU;wCAA+D,OAAM;kDAC1G,cAAA,qQAAC,2OAAM;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAMjC,kCACG,qQAAC,oLAAY;gBACT,QAAQ;gBACR,QAAQ;gBACR,SAAS,IAAM,oBAAoB;;;;;;0BAI3C,qQAAC,2LAAkB;gBACf,QAAQ;gBACR,WAAW;gBACX,UAAU,IAAM,qBAAqB;gBACrC,aAAa,OAAO,KAAK;;;;;;;;AAIzC"}},
    {"offset": {"line": 1550, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/ui/Skeleton.tsx"],"sourcesContent":["export function Skeleton({ className = '' }: { className?: string }) {\r\n    return (\r\n        <div\r\n            className={`\r\n                animate-pulse rounded-md bg-muted/60\r\n                relative overflow-hidden\r\n                before:absolute before:inset-0\r\n                before:-translate-x-full\r\n                before:animate-[shimmer_2s_infinite]\r\n                before:bg-gradient-to-r\r\n                before:from-transparent before:via-white/10 before:to-transparent\r\n                ${className}\r\n            `}\r\n        />\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,SAAS,EAAE,YAAY,EAAE,EAA0B;IAC/D,qBACI,qQAAC;QACG,WAAW,CAAC;;;;;;;;gBAQR,EAAE,UAAU;YAChB,CAAC;;;;;;AAGb"}},
    {"offset": {"line": 1578, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/page-components/Library.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Plus, Star } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\nimport { usePromptStore } from '@/store/usePromptStore';\r\nimport { SearchBar } from '@/components/library/SearchBar';\r\nimport { PromptCard } from '@/components/library/PromptCard';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Skeleton } from '@/components/ui/Skeleton';\r\n\r\nexport function Library() {\r\n    const router = useRouter();\r\n    const prompts = usePromptStore((state) => state.prompts);\r\n    const searchQuery = usePromptStore((state) => state.searchQuery);\r\n    const filters = usePromptStore((state) => state.filters);\r\n    const setSearchQuery = usePromptStore((state) => state.setSearchQuery);\r\n    const setFilters = usePromptStore((state) => state.setFilters);\r\n    const loadPrompts = usePromptStore((state) => state.loadPrompts);\r\n    const searchAndFilter = usePromptStore((state) => state.searchAndFilter);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Load all prompts initially\r\n    useEffect(() => {\r\n        const init = async () => {\r\n            try {\r\n                console.log('ðŸ“š Library: Loading prompts...');\r\n                await loadPrompts();\r\n                console.log('âœ… Library: Prompts loaded successfully');\r\n            } catch (error) {\r\n                console.error('âŒ Library: Failed to load prompts', error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        init();\r\n    }, [loadPrompts]);\r\n\r\n    // Trigger search when searchQuery or filters change\r\n    useEffect(() => {\r\n        if (!loading) {\r\n            searchAndFilter();\r\n        }\r\n    }, [searchQuery, filters, searchAndFilter, loading]);\r\n\r\n    const toggleFavoritesFilter = () => {\r\n        setFilters({\r\n            ...filters,\r\n            favorites: !filters.favorites,\r\n        });\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex-1 px-8 py-6 max-w-7xl mx-auto w-full\">\r\n                {/* Header Skeleton */}\r\n                <div className=\"flex items-center justify-between mb-8\">\r\n                    <div className=\"space-y-2\">\r\n                        <Skeleton className=\"h-8 w-32\" />\r\n                        <Skeleton className=\"h-4 w-24\" />\r\n                    </div>\r\n                    <Skeleton className=\"h-10 w-32\" />\r\n                </div>\r\n\r\n                {/* Search Skeleton */}\r\n                <div className=\"mb-6 space-y-3\">\r\n                    <Skeleton className=\"h-10 w-full rounded-md\" />\r\n                    <Skeleton className=\"h-6 w-32 rounded-md\" />\r\n                </div>\r\n\r\n                {/* Grid Skeleton */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                    {Array.from({ length: 9 }).map((_, i) => (\r\n                        <div key={i} className=\"flex flex-col p-5 bg-card border border-border rounded-lg h-64 space-y-4\">\r\n                            <div className=\"flex justify-between\">\r\n                                <Skeleton className=\"h-6 w-20\" />\r\n                                <Skeleton className=\"h-5 w-5 rounded-full\" />\r\n                            </div>\r\n                            <Skeleton className=\"h-6 w-3/4\" />\r\n                            <Skeleton className=\"h-20 w-full flex-1\" />\r\n                            <div className=\"flex gap-2 pt-2\">\r\n                                <Skeleton className=\"h-5 w-16\" />\r\n                                <Skeleton className=\"h-5 w-16\" />\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex-1 px-8 py-6 max-w-7xl mx-auto w-full\">\r\n            {/* Header with stagger animation */}\r\n            <motion.div\r\n                initial={{ opacity: 0, y: -20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.3 }}\r\n                className=\"flex items-center justify-between mb-8\"\r\n            >\r\n                <div>\r\n                    <h1 className=\"text-3xl font-semibold tracking-tight text-foreground mb-1\">\r\n                        Library\r\n                    </h1>\r\n                    <p className=\"text-muted-foreground\">{prompts.length} prompt{prompts.length !== 1 ? 's' : ''}</p>\r\n                </div>\r\n                <Button variant=\"primary\" onClick={() => router.push('/prompt/new')}>\r\n                    <Plus className=\"w-5 hs-5\" />\r\n                    New Prompt\r\n                </Button>\r\n            </motion.div>\r\n\r\n            {/* Search */}\r\n            <motion.div\r\n                initial={{ opacity: 0, y: -10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.3, delay: 0.1 }}\r\n                className=\"mb-6 space-y-3\"\r\n            >\r\n                <SearchBar value={searchQuery} onChange={setSearchQuery} />\r\n\r\n                {/* Favorites Filter */}\r\n                <div className=\"flex gap-2\">\r\n                    <motion.button\r\n                        whileHover={{ scale: 1.02 }}\r\n                        whileTap={{ scale: 0.98 }}\r\n                        onClick={toggleFavoritesFilter}\r\n                        className={`\r\n                            flex items-center gap-2 px-3 py-1.5 rounded-md text-sm border\r\n                            transition-all duration-200\r\n                            ${filters.favorites\r\n                                ? 'bg-yellow-500/10 text-yellow-500 border-yellow-500/20'\r\n                                : 'bg-background border-border text-muted-foreground hover:text-foreground hover:bg-secondary'\r\n                            }\r\n                        `}\r\n                    >\r\n                        <Star\r\n                            className=\"w-3.5 h-3.5\"\r\n                            fill={filters.favorites ? 'currentColor' : 'none'}\r\n                        />\r\n                        <span className=\"font-medium\">\r\n                            {filters.favorites ? 'Showing Favorites' : 'Show Favorites'}\r\n                        </span>\r\n                    </motion.button>\r\n                </div>\r\n            </motion.div>\r\n\r\n            {/* Prompt Grid with staggered loading */}\r\n            {prompts.length === 0 ? (\r\n                <motion.div\r\n                    initial={{ opacity: 0, scale: 0.95 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    transition={{ duration: 0.3 }}\r\n                    className=\"border border-border border-dashed rounded-lg p-16 text-center bg-card/50\"\r\n                >\r\n                    <div className=\"text-6xl mb-6 opacity-50\">ðŸ“</div>\r\n                    <h2 className=\"text-xl font-semibold mb-2 text-foreground\">No prompts found</h2>\r\n                    {searchQuery ? (\r\n                        <p className=\"text-muted-foreground mb-6\">\r\n                            Try adjusting your search\r\n                        </p>\r\n                    ) : (\r\n                        <p className=\"text-muted-foreground mb-6\">\r\n                            Get started by creating your first prompt\r\n                        </p>\r\n                    )}\r\n                    <Button variant=\"primary\" onClick={() => router.push('/prompt/new')}>\r\n                        <Plus className=\"w-4 h-4 mr-2\" />\r\n                        Create Prompt\r\n                    </Button>\r\n                </motion.div>\r\n            ) : (\r\n                <motion.div\r\n                    variants={{\r\n                        visible: {\r\n                            transition: {\r\n                                staggerChildren: 0.05,\r\n                            },\r\n                        },\r\n                    }}\r\n                    initial=\"hidden\"\r\n                    animate=\"visible\"\r\n                    className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\r\n                >\r\n                    {prompts.map((prompt) => (\r\n                        <motion.div\r\n                            key={prompt.id}\r\n                            variants={{\r\n                                hidden: { opacity: 0, y: 20, scale: 0.95 },\r\n                                visible: { opacity: 1, y: 0, scale: 1 },\r\n                            }}\r\n                            transition={{\r\n                                duration: 0.3,\r\n                                ease: [0.16, 0.84, 0.24, 1],\r\n                            }}\r\n                        >\r\n                            <PromptCard prompt={prompt} />\r\n                        </motion.div>\r\n                    ))}\r\n                </motion.div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;AAYO,SAAS;IACZ,MAAM,SAAS,IAAA,sKAAS;IACxB,MAAM,UAAU,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,OAAO;IACvD,MAAM,cAAc,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,WAAW;IAC/D,MAAM,UAAU,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,OAAO;IACvD,MAAM,iBAAiB,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,cAAc;IACrE,MAAM,aAAa,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,UAAU;IAC7D,MAAM,cAAc,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,WAAW;IAC/D,MAAM,kBAAkB,IAAA,uKAAc,EAAC,CAAC,QAAU,MAAM,eAAe;IACvE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wOAAQ,EAAC;IAEvC,6BAA6B;IAC7B,IAAA,yOAAS,EAAC;QACN,MAAM,OAAO;YACT,IAAI;gBACA,QAAQ,GAAG,CAAC;gBACZ,MAAM;gBACN,QAAQ,GAAG,CAAC;YAChB,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,qCAAqC;YACvD,SAAU;gBACN,WAAW;YACf;QACJ;QACA;IACJ,GAAG;QAAC;KAAY;IAEhB,oDAAoD;IACpD,IAAA,yOAAS,EAAC;QACN,IAAI,CAAC,SAAS;YACV;QACJ;IACJ,GAAG;QAAC;QAAa;QAAS;QAAiB;KAAQ;IAEnD,MAAM,wBAAwB;QAC1B,WAAW;YACP,GAAG,OAAO;YACV,WAAW,CAAC,QAAQ,SAAS;QACjC;IACJ;IAEA,IAAI,SAAS;QACT,qBACI,qQAAC;YAAI,WAAU;;8BAEX,qQAAC;oBAAI,WAAU;;sCACX,qQAAC;4BAAI,WAAU;;8CACX,qQAAC,uKAAQ;oCAAC,WAAU;;;;;;8CACpB,qQAAC,uKAAQ;oCAAC,WAAU;;;;;;;;;;;;sCAExB,qQAAC,uKAAQ;4BAAC,WAAU;;;;;;;;;;;;8BAIxB,qQAAC;oBAAI,WAAU;;sCACX,qQAAC,uKAAQ;4BAAC,WAAU;;;;;;sCACpB,qQAAC,uKAAQ;4BAAC,WAAU;;;;;;;;;;;;8BAIxB,qQAAC;oBAAI,WAAU;8BACV,MAAM,IAAI,CAAC;wBAAE,QAAQ;oBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC/B,qQAAC;4BAAY,WAAU;;8CACnB,qQAAC;oCAAI,WAAU;;sDACX,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;sDACpB,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;;;;;;;8CAExB,qQAAC,uKAAQ;oCAAC,WAAU;;;;;;8CACpB,qQAAC,uKAAQ;oCAAC,WAAU;;;;;;8CACpB,qQAAC;oCAAI,WAAU;;sDACX,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;sDACpB,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;;;;;;;;2BATlB;;;;;;;;;;;;;;;;IAgB9B;IAEA,qBACI,qQAAC;QAAI,WAAU;;0BAEX,qQAAC,2NAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;;kCAEV,qQAAC;;0CACG,qQAAC;gCAAG,WAAU;0CAA6D;;;;;;0CAG3E,qQAAC;gCAAE,WAAU;;oCAAyB,QAAQ,MAAM;oCAAC;oCAAQ,QAAQ,MAAM,KAAK,IAAI,MAAM;;;;;;;;;;;;;kCAE9F,qQAAC,mKAAM;wBAAC,SAAQ;wBAAU,SAAS,IAAM,OAAO,IAAI,CAAC;;0CACjD,qQAAC,iOAAI;gCAAC,WAAU;;;;;;4BAAa;;;;;;;;;;;;;0BAMrC,qQAAC,2NAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,SAAS;oBAAG,GAAG,CAAC;gBAAG;gBAC9B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;oBAAK,OAAO;gBAAI;gBACxC,WAAU;;kCAEV,qQAAC,8KAAS;wBAAC,OAAO;wBAAa,UAAU;;;;;;kCAGzC,qQAAC;wBAAI,WAAU;kCACX,cAAA,qQAAC,2NAAM,CAAC,MAAM;4BACV,YAAY;gCAAE,OAAO;4BAAK;4BAC1B,UAAU;gCAAE,OAAO;4BAAK;4BACxB,SAAS;4BACT,WAAW,CAAC;;;4BAGR,EAAE,QAAQ,SAAS,GACb,0DACA,6FACL;wBACL,CAAC;;8CAED,qQAAC,iOAAI;oCACD,WAAU;oCACV,MAAM,QAAQ,SAAS,GAAG,iBAAiB;;;;;;8CAE/C,qQAAC;oCAAK,WAAU;8CACX,QAAQ,SAAS,GAAG,sBAAsB;;;;;;;;;;;;;;;;;;;;;;;YAO1D,QAAQ,MAAM,KAAK,kBAChB,qQAAC,2NAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAK;gBACnC,SAAS;oBAAE,SAAS;oBAAG,OAAO;gBAAE;gBAChC,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;;kCAEV,qQAAC;wBAAI,WAAU;kCAA2B;;;;;;kCAC1C,qQAAC;wBAAG,WAAU;kCAA6C;;;;;;oBAC1D,4BACG,qQAAC;wBAAE,WAAU;kCAA6B;;;;;6CAI1C,qQAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAI9C,qQAAC,mKAAM;wBAAC,SAAQ;wBAAU,SAAS,IAAM,OAAO,IAAI,CAAC;;0CACjD,qQAAC,iOAAI;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;qCAKzC,qQAAC,2NAAM,CAAC,GAAG;gBACP,UAAU;oBACN,SAAS;wBACL,YAAY;4BACR,iBAAiB;wBACrB;oBACJ;gBACJ;gBACA,SAAQ;gBACR,SAAQ;gBACR,WAAU;0BAET,QAAQ,GAAG,CAAC,CAAC,uBACV,qQAAC,2NAAM,CAAC,GAAG;wBAEP,UAAU;4BACN,QAAQ;gCAAE,SAAS;gCAAG,GAAG;gCAAI,OAAO;4BAAK;4BACzC,SAAS;gCAAE,SAAS;gCAAG,GAAG;gCAAG,OAAO;4BAAE;wBAC1C;wBACA,YAAY;4BACR,UAAU;4BACV,MAAM;gCAAC;gCAAM;gCAAM;gCAAM;6BAAE;wBAC/B;kCAEA,cAAA,qQAAC,gLAAU;4BAAC,QAAQ;;;;;;uBAVf,OAAO,EAAE;;;;;;;;;;;;;;;;AAiB1C"}},
    {"offset": {"line": 2069, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/app/%28authenticated%29/library/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Library } from '@/page-components/Library';\r\n\r\nexport default function LibraryPage() {\r\n    return <Library />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACpB,qBAAO,qQAAC,uKAAO;;;;;AACnB"}}]
}