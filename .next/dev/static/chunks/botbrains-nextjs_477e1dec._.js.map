{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,gMAAO,EAAC,IAAA,uKAAI,EAAC;AACxB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/workspace/WorkspaceSwitcher.tsx"],"sourcesContent":["import { motion } from 'framer-motion';\r\nimport { Plus, Check } from 'lucide-react';\r\nimport { useWorkspaceStore } from '@/store/useWorkspaceStore';\r\nimport { useProfileStore } from '@/store/useProfileStore';\r\nimport { usePromptStore } from '@/store/usePromptStore';\r\nimport { useState } from 'react';\r\n\r\nexport function WorkspaceSwitcher() {\r\n    const [showCreateForm, setShowCreateForm] = useState(false);\r\n    const [newWorkspaceName, setNewWorkspaceName] = useState('');\r\n    const [selectedIcon, setSelectedIcon] = useState('ðŸ’¼');\r\n    const [selectedColor, setSelectedColor] = useState('#6366f1');\r\n\r\n    const { currentWorkspace, workspaces, switchWorkspace, createNewWorkspace } = useWorkspaceStore();\r\n    const { currentProfile } = useProfileStore();\r\n    const { setWorkspace: setPromptWorkspace } = usePromptStore();\r\n\r\n    const workspaceIcons = ['ðŸ’¼', 'ðŸ ', 'ðŸŽ¨', 'ðŸš€', 'ðŸ“Š', 'ðŸŽ¯', 'ðŸ’¡', 'ðŸ”¬', 'ðŸ“š', 'âš¡'];\r\n    const workspaceColors = [\r\n        '#6366f1', // Indigo\r\n        '#8b5cf6', // Purple\r\n        '#ec4899', // Pink\r\n        '#f59e0b', // Amber\r\n        '#10b981', // Green\r\n        '#06b6d4', // Cyan\r\n        '#f97316', // Orange\r\n        '#ef4444', // Red\r\n    ];\r\n\r\n    const handleSwitchWorkspace = async (workspaceId: string) => {\r\n        try {\r\n            await switchWorkspace(workspaceId);\r\n            // Update prompt store to use new workspace\r\n            setPromptWorkspace(workspaceId);\r\n        } catch (error) {\r\n            console.error('Failed to switch workspace:', error);\r\n        }\r\n    };\r\n\r\n    const handleCreateWorkspace = async () => {\r\n        if (!currentProfile || !newWorkspaceName.trim()) return;\r\n\r\n        try {\r\n            const workspace = await createNewWorkspace(\r\n                currentProfile.id,\r\n                newWorkspaceName.trim(),\r\n                selectedIcon,\r\n                selectedColor\r\n            );\r\n\r\n            // Switch to new workspace\r\n            await handleSwitchWorkspace(workspace.id);\r\n\r\n            // Reset form\r\n            setNewWorkspaceName('');\r\n            setSelectedIcon('ðŸ’¼');\r\n            setSelectedColor('#6366f1');\r\n            setShowCreateForm(false);\r\n        } catch (error) {\r\n            console.error('Failed to create workspace:', error);\r\n        }\r\n    };\r\n\r\n    if (!currentProfile) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"mb-6\">\r\n            {/* Section header */}\r\n            <div className=\"px-3 flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-xs text-muted-foreground font-medium uppercase tracking-wider\">\r\n                    Workspaces\r\n                </h3>\r\n                <button\r\n                    onClick={() => setShowCreateForm(!showCreateForm)}\r\n                    className=\"p-1 text-muted-foreground hover:text-foreground hover:bg-white/5 rounded transition-colors duration-150\"\r\n                    title=\"New workspace\"\r\n                >\r\n                    <Plus className={`w-3.5 h-3.5 transition-transform duration-200 ${showCreateForm ? 'rotate-45' : ''}`} />\r\n                </button>\r\n            </div>\r\n\r\n            {/* Create workspace form */}\r\n            {showCreateForm && (\r\n                <motion.div\r\n                    initial={{ opacity: 0, height: 0 }}\r\n                    animate={{ opacity: 1, height: 'auto' }}\r\n                    exit={{ opacity: 0, height: 0 }}\r\n                    className=\"mx-3 mb-3 p-3 rounded-lg border border-border bg-card\"\r\n                >\r\n                    <input\r\n                        type=\"text\"\r\n                        value={newWorkspaceName}\r\n                        onChange={(e) => setNewWorkspaceName(e.target.value)}\r\n                        placeholder=\"Workspace name\"\r\n                        className=\"w-full px-2 py-1.5 mb-2 bg-background border border-border rounded text-sm text-foreground placeholder-muted-foreground focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary\"\r\n                        onKeyPress={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                                handleCreateWorkspace();\r\n                            }\r\n                        }}\r\n                    />\r\n\r\n                    {/* Icon selector */}\r\n                    <div className=\"mb-2\">\r\n                        <p className=\"text-[10px] text-muted-foreground mb-1.5 uppercase tracking-wide\">Icon</p>\r\n                        <div className=\"flex flex-wrap gap-1.5\">\r\n                            {workspaceIcons.map((icon) => (\r\n                                <button\r\n                                    key={icon}\r\n                                    onClick={() => setSelectedIcon(icon)}\r\n                                    className={`w-7 h-7 rounded flex items-center justify-center text-sm transition-all duration-150 ${selectedIcon === icon\r\n                                        ? 'bg-primary/20 ring-1 ring-primary'\r\n                                        : 'bg-background hover:bg-white/5 border border-transparent'\r\n                                        }`}\r\n                                >\r\n                                    {icon}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Color selector */}\r\n                    <div className=\"mb-3\">\r\n                        <p className=\"text-[10px] text-muted-foreground mb-1.5 uppercase tracking-wide\">Color</p>\r\n                        <div className=\"flex flex-wrap gap-1.5\">\r\n                            {workspaceColors.map((color) => (\r\n                                <button\r\n                                    key={color}\r\n                                    onClick={() => setSelectedColor(color)}\r\n                                    className={`w-5 h-5 rounded-full transition-all duration-150 ${selectedColor === color ? 'ring-2 ring-white ring-offset-2 ring-offset-background' : ''\r\n                                        }`}\r\n                                    style={{ backgroundColor: color }}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={handleCreateWorkspace}\r\n                        disabled={!newWorkspaceName.trim()}\r\n                        className=\"w-full px-3 py-1.5 bg-primary hover:bg-primary/90 text-primary-foreground disabled:opacity-50 disabled:cursor-not-allowed rounded text-xs font-medium transition-colors duration-150\"\r\n                    >\r\n                        Create Workspace\r\n                    </button>\r\n                </motion.div>\r\n            )}\r\n\r\n            {/* Workspace list */}\r\n            <div className=\"space-y-0.5 px-2\">\r\n                {workspaces.map((workspace) => (\r\n                    <button\r\n                        key={workspace.id}\r\n                        onClick={() => handleSwitchWorkspace(workspace.id)}\r\n                        className={`w-full flex items-center space-x-3 px-3 py-2 rounded-md transition-all duration-150 group ${currentWorkspace?.id === workspace.id\r\n                            ? 'bg-secondary'\r\n                            : 'hover:bg-white/5'\r\n                            }`}\r\n                    >\r\n                        {/* Icon with color */}\r\n                        <div\r\n                            className=\"w-6 h-6 rounded flex items-center justify-center text-sm flex-shrink-0\"\r\n                            style={{ backgroundColor: workspace.color + '20' }}\r\n                        >\r\n                            <span>{workspace.icon}</span>\r\n                        </div>\r\n\r\n                        {/* Name */}\r\n                        <span className={`flex-1 text-left text-sm font-medium truncate ${currentWorkspace?.id === workspace.id ? 'text-foreground' : 'text-muted-foreground group-hover:text-foreground'}`}>\r\n                            {workspace.name}\r\n                        </span>\r\n\r\n                        {/* Active indicator */}\r\n                        {currentWorkspace?.id === workspace.id && (\r\n                            <Check className=\"w-3.5 h-3.5 text-primary flex-shrink-0\" />\r\n                        )}\r\n                    </button>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 324, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/layout/Sidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Library as LibraryIcon, FolderOpen, Tag, ChevronLeft, ChevronRight, Settings, Sparkles } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useState } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { WorkspaceSwitcher } from '@/components/workspace/WorkspaceSwitcher';\r\n\r\ninterface NavItemProps {\r\n    href: string;\r\n    icon: React.ReactNode;\r\n    label: string;\r\n    collapsed: boolean;\r\n}\r\n\r\nfunction NavItem({ href, icon, label, collapsed }: NavItemProps) {\r\n    const pathname = usePathname();\r\n    const isActive = pathname === href || pathname.startsWith(href + '/');\r\n\r\n    return (\r\n        <Link\r\n            href={href}\r\n            className={cn(\r\n                \"relative flex items-center gap-3 px-3 py-2 rounded-md transition-colors duration-200 group\",\r\n                isActive\r\n                    ? \"bg-primary/10 text-primary\"\r\n                    : \"text-muted-foreground hover:text-foreground hover:bg-white/5\"\r\n            )}\r\n        >\r\n            {isActive && (\r\n                <motion.div\r\n                    layoutId=\"activeIndicator\"\r\n                    className=\"absolute left-0 top-1.5 bottom-1.5 w-1 bg-primary rounded-r-full\"\r\n                    initial={false}\r\n                />\r\n            )}\r\n            <span className={cn(isActive && \"text-primary\")}>\r\n                {icon}\r\n            </span>\r\n            <AnimatePresence>\r\n                {!collapsed && (\r\n                    <motion.span\r\n                        initial={{ opacity: 0, width: 0 }}\r\n                        animate={{ opacity: 1, width: \"auto\" }}\r\n                        exit={{ opacity: 0, width: 0 }}\r\n                        transition={{ duration: 0.2 }}\r\n                        className=\"font-medium whitespace-nowrap overflow-hidden text-sm\"\r\n                    >\r\n                        {label}\r\n                    </motion.span>\r\n                )}\r\n            </AnimatePresence>\r\n        </Link>\r\n    );\r\n}\r\n\r\nexport function Sidebar() {\r\n    const [collapsed, setCollapsed] = useState(false);\r\n\r\n    return (\r\n        <motion.aside\r\n            animate={{ width: collapsed ? 70 : 240 }}\r\n            transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n            className=\"border-r border-border bg-card/50 backdrop-blur-xl flex flex-col relative z-20\"\r\n        >\r\n            {/* Logo Area */}\r\n            <div className=\"p-4 h-16 flex items-center border-b border-border/50\">\r\n                <AnimatePresence mode=\"wait\">\r\n                    {!collapsed ? (\r\n                        <motion.div\r\n                            key=\"full-logo\"\r\n                            initial={{ opacity: 0 }}\r\n                            animate={{ opacity: 1 }}\r\n                            exit={{ opacity: 0 }}\r\n                            className=\"flex items-center gap-2\"\r\n                        >\r\n                            <div className=\"w-6 h-6 rounded bg-primary flex items-center justify-center text-primary-foreground font-bold text-xs\">\r\n                                B\r\n                            </div>\r\n                            <h1 className=\"font-semibold text-lg tracking-tight text-foreground\">\r\n                                BotBrains\r\n                            </h1>\r\n                        </motion.div>\r\n                    ) : (\r\n                        <motion.div\r\n                            key=\"icon-logo\"\r\n                            initial={{ opacity: 0 }}\r\n                            animate={{ opacity: 1 }}\r\n                            exit={{ opacity: 0 }}\r\n                            className=\"w-full flex justify-center\"\r\n                        >\r\n                            <div className=\"w-8 h-8 rounded bg-primary flex items-center justify-center text-primary-foreground font-bold text-sm\">\r\n                                B\r\n                            </div>\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* Workspace Switcher - Only show when not collapsed */}\r\n            <div className=\"px-3 py-3\">\r\n                {!collapsed && <WorkspaceSwitcher />}\r\n            </div>\r\n\r\n            {/* Nav Items */}\r\n            <nav className=\"flex-1 px-3 py-2 space-y-1 overflow-y-auto\">\r\n                <NavItem href=\"/library\" icon={<LibraryIcon className=\"w-4 h-4\" />} label=\"Library\" collapsed={collapsed} />\r\n                <NavItem href=\"/categories\" icon={<FolderOpen className=\"w-4 h-4\" />} label=\"Categories\" collapsed={collapsed} />\r\n                <NavItem href=\"/keywords\" icon={<Tag className=\"w-4 h-4\" />} label=\"Keywords\" collapsed={collapsed} />\r\n\r\n                {/* Builder Prompts Section */}\r\n                <div className=\"pt-4 mt-4 border-t border-border/50\">\r\n                    <NavItem href=\"/builder\" icon={<Sparkles className=\"w-4 h-4\" />} label=\"Builder Prompts\" collapsed={collapsed} />\r\n                </div>\r\n\r\n                {/* Settings Section */}\r\n                <div className=\"pt-4 mt-4 border-t border-border/50\">\r\n                    <NavItem href=\"/settings\" icon={<Settings className=\"w-4 h-4\" />} label=\"Settings\" collapsed={collapsed} />\r\n                </div>\r\n            </nav>\r\n\r\n            {/* Collapse Toggle */}\r\n            <div className=\"p-3 border-t border-border/50\">\r\n                <button\r\n                    onClick={() => setCollapsed(!collapsed)}\r\n                    className=\"w-full flex items-center justify-center gap-2 p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-white/5 transition-all\"\r\n                >\r\n                    {collapsed ? <ChevronRight className=\"w-4 h-4\" /> : <ChevronLeft className=\"w-4 h-4\" />}\r\n                    {!collapsed && <span className=\"text-xs font-medium\">Collapse</span>}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            {!collapsed && (\r\n                <div className=\"p-3 text-center\">\r\n                    <p className=\"text-[10px] text-muted-foreground font-mono opacity-50\">v1.0.0</p>\r\n                </div>\r\n            )}\r\n        </motion.aside>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;AARA;;;;;;;;AAiBA,SAAS,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAgB;;IAC3D,MAAM,WAAW,IAAA,2KAAW;IAC5B,MAAM,WAAW,aAAa,QAAQ,SAAS,UAAU,CAAC,OAAO;IAEjE,qBACI,oNAAC,iMAAI;QACD,MAAM;QACN,WAAW,IAAA,mJAAE,EACT,8FACA,WACM,+BACA;;YAGT,0BACG,oNAAC,8NAAM,CAAC,GAAG;gBACP,UAAS;gBACT,WAAU;gBACV,SAAS;;;;;;0BAGjB,oNAAC;gBAAK,WAAW,IAAA,mJAAE,EAAC,YAAY;0BAC3B;;;;;;0BAEL,oNAAC,sOAAe;0BACX,CAAC,2BACE,oNAAC,8NAAM,CAAC,IAAI;oBACR,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAO;oBACrC,MAAM;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAC7B,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,WAAU;8BAET;;;;;;;;;;;;;;;;;AAMzB;GAvCS;;QACY,2KAAW;;;KADvB;AAyCF,SAAS;;IACZ,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gMAAQ,EAAC;IAE3C,qBACI,oNAAC,8NAAM,CAAC,KAAK;QACT,SAAS;YAAE,OAAO,YAAY,KAAK;QAAI;QACvC,YAAY;YAAE,MAAM;YAAU,WAAW;YAAK,SAAS;QAAG;QAC1D,WAAU;;0BAGV,oNAAC;gBAAI,WAAU;0BACX,cAAA,oNAAC,sOAAe;oBAAC,MAAK;8BACjB,CAAC,0BACE,oNAAC,8NAAM,CAAC,GAAG;wBAEP,SAAS;4BAAE,SAAS;wBAAE;wBACtB,SAAS;4BAAE,SAAS;wBAAE;wBACtB,MAAM;4BAAE,SAAS;wBAAE;wBACnB,WAAU;;0CAEV,oNAAC;gCAAI,WAAU;0CAAwG;;;;;;0CAGvH,oNAAC;gCAAG,WAAU;0CAAuD;;;;;;;uBATjE;;;;6CAcR,oNAAC,8NAAM,CAAC,GAAG;wBAEP,SAAS;4BAAE,SAAS;wBAAE;wBACtB,SAAS;4BAAE,SAAS;wBAAE;wBACtB,MAAM;4BAAE,SAAS;wBAAE;wBACnB,WAAU;kCAEV,cAAA,oNAAC;4BAAI,WAAU;sCAAwG;;;;;;uBANnH;;;;;;;;;;;;;;;0BAepB,oNAAC;gBAAI,WAAU;0BACV,CAAC,2BAAa,oNAAC,mMAAiB;;;;;;;;;;0BAIrC,oNAAC;gBAAI,WAAU;;kCACX,oNAAC;wBAAQ,MAAK;wBAAW,oBAAM,oNAAC,6OAAW;4BAAC,WAAU;;;;;;wBAAc,OAAM;wBAAU,WAAW;;;;;;kCAC/F,oNAAC;wBAAQ,MAAK;wBAAc,oBAAM,oNAAC,0PAAU;4BAAC,WAAU;;;;;;wBAAc,OAAM;wBAAa,WAAW;;;;;;kCACpG,oNAAC;wBAAQ,MAAK;wBAAY,oBAAM,oNAAC,iOAAG;4BAAC,WAAU;;;;;;wBAAc,OAAM;wBAAW,WAAW;;;;;;kCAGzF,oNAAC;wBAAI,WAAU;kCACX,cAAA,oNAAC;4BAAQ,MAAK;4BAAW,oBAAM,oNAAC,gPAAQ;gCAAC,WAAU;;;;;;4BAAc,OAAM;4BAAkB,WAAW;;;;;;;;;;;kCAIxG,oNAAC;wBAAI,WAAU;kCACX,cAAA,oNAAC;4BAAQ,MAAK;4BAAY,oBAAM,oNAAC,gPAAQ;gCAAC,WAAU;;;;;;4BAAc,OAAM;4BAAW,WAAW;;;;;;;;;;;;;;;;;0BAKtG,oNAAC;gBAAI,WAAU;0BACX,cAAA,oNAAC;oBACG,SAAS,IAAM,aAAa,CAAC;oBAC7B,WAAU;;wBAET,0BAAY,oNAAC,gQAAY;4BAAC,WAAU;;;;;iDAAe,oNAAC,6PAAW;4BAAC,WAAU;;;;;;wBAC1E,CAAC,2BAAa,oNAAC;4BAAK,WAAU;sCAAsB;;;;;;;;;;;;;;;;;YAK5D,CAAC,2BACE,oNAAC;gBAAI,WAAU;0BACX,cAAA,oNAAC;oBAAE,WAAU;8BAAyD;;;;;;;;;;;;;;;;;AAK1F;IApFgB;MAAA"}},
    {"offset": {"line": 692, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/profile/ProfileSwitcher.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { User, LogOut, ChevronDown, Settings } from 'lucide-react';\r\nimport { useProfileStore } from '@/store/useProfileStore';\r\nimport { googleAuth } from '@/services/googleAuth';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport function ProfileSwitcher() {\r\n    const router = useRouter();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n    const { currentProfile, profiles, switchProfile, logout } = useProfileStore();\r\n\r\n    // Close dropdown when clicking outside\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleSwitchProfile = async (profileId: string) => {\r\n        try {\r\n            await switchProfile(profileId);\r\n            setIsOpen(false);\r\n        } catch (error) {\r\n            console.error('Failed to switch profile:', error);\r\n        }\r\n    };\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await googleAuth.signOut();\r\n            logout();\r\n            router.push('/setup');\r\n        } catch (error) {\r\n            console.error('Failed to logout:', error);\r\n        }\r\n    };\r\n\r\n    if (!currentProfile) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            {/* Profile button */}\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-white/5 transition-all duration-200 border border-transparent hover:border-border/50\"\r\n            >\r\n                {/* Avatar */}\r\n                <div className=\"w-8 h-8 rounded-full bg-secondary flex items-center justify-center border border-border\">\r\n                    <User className=\"w-4 h-4 text-muted-foreground\" />\r\n                </div>\r\n\r\n                {/* Name */}\r\n                <div className=\"text-left hidden md:block\">\r\n                    <p className=\"text-sm font-medium text-foreground\">{currentProfile.name}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">{currentProfile.email}</p>\r\n                </div>\r\n\r\n                {/* Chevron */}\r\n                <ChevronDown\r\n                    className={`w-4 h-4 text-muted-foreground transition-transform duration-200 ${isOpen ? 'rotate-180' : ''\r\n                        }`}\r\n                />\r\n            </button>\r\n\r\n            {/* Dropdown */}\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: -5 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        exit={{ opacity: 0, y: -5 }}\r\n                        transition={{ duration: 0.15 }}\r\n                        className=\"absolute right-0 mt-2 w-72 bg-popover border border-border rounded-lg shadow-lg overflow-hidden z-50\"\r\n                    >\r\n                        {/* Current profile info */}\r\n                        <div className=\"p-4 border-b border-border\">\r\n                            <div className=\"flex items-center space-x-3\">\r\n                                <div className=\"w-10 h-10 rounded-full bg-secondary flex items-center justify-center\">\r\n                                    <User className=\"w-5 h-5 text-muted-foreground\" />\r\n                                </div>\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <p className=\"text-sm font-medium text-foreground truncate\">\r\n                                        {currentProfile.name}\r\n                                    </p>\r\n                                    <p className=\"text-xs text-muted-foreground truncate\">\r\n                                        {currentProfile.email}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Other profiles */}\r\n                        {profiles.length > 1 && (\r\n                            <div className=\"border-b border-border\">\r\n                                <div className=\"px-4 py-2\">\r\n                                    <p className=\"text-xs text-muted-foreground font-medium\">Switch Profile</p>\r\n                                </div>\r\n                                {profiles\r\n                                    .filter((p) => p.id !== currentProfile.id)\r\n                                    .map((profile) => (\r\n                                        <button\r\n                                            key={profile.id}\r\n                                            onClick={() => handleSwitchProfile(profile.id)}\r\n                                            className=\"w-full px-4 py-2 flex items-center space-x-3 hover:bg-white/5 transition-colors duration-150\"\r\n                                        >\r\n                                            <div className=\"w-8 h-8 rounded-full bg-secondary flex items-center justify-center\">\r\n                                                <User className=\"w-4 h-4 text-muted-foreground\" />\r\n                                            </div>\r\n                                            <div className=\"text-left flex-1 min-w-0\">\r\n                                                <p className=\"text-sm text-foreground truncate\">{profile.name}</p>\r\n                                                <p className=\"text-xs text-muted-foreground truncate\">\r\n                                                    {profile.email}\r\n                                                </p>\r\n                                            </div>\r\n                                        </button>\r\n                                    ))}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"p-1\">\r\n                            <button\r\n                                onClick={() => {\r\n                                    router.push('/settings/api');\r\n                                    setIsOpen(false);\r\n                                }}\r\n                                className=\"w-full px-3 py-2 flex items-center space-x-3 hover:bg-white/5 rounded-md transition-colors duration-150\"\r\n                            >\r\n                                <Settings className=\"w-4 h-4 text-muted-foreground\" />\r\n                                <span className=\"text-sm text-foreground\">Settings</span>\r\n                            </button>\r\n                            <button\r\n                                onClick={handleLogout}\r\n                                className=\"w-full px-3 py-2 flex items-center space-x-3 hover:bg-destructive/10 rounded-md transition-colors duration-150 group\"\r\n                            >\r\n                                <LogOut className=\"w-4 h-4 text-muted-foreground group-hover:text-destructive\" />\r\n                                <span className=\"text-sm text-foreground group-hover:text-destructive\">Sign Out</span>\r\n                            </button>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1061, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/layout/Header.tsx"],"sourcesContent":["import { motion } from 'framer-motion';\r\nimport { ProfileSwitcher } from '@/components/profile/ProfileSwitcher';\r\n\r\nexport function Header() {\r\n    return (\r\n        <motion.header\r\n            initial={{ y: -20, opacity: 0 }}\r\n            animate={{ y: 0, opacity: 1 }}\r\n            transition={{ duration: 0.4, ease: [0.16, 1, 0.3, 1] }}\r\n            className=\"border-b border-border/60 bg-background/80 backdrop-blur-xl sticky top-0 z-50 transition-all duration-300 shadow-sm\"\r\n        >\r\n            <div className=\"px-6 py-3.5 flex items-center justify-end\">\r\n                <ProfileSwitcher />\r\n            </div>\r\n        </motion.header>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS;IACZ,qBACI,oNAAC,8NAAM,CAAC,MAAM;QACV,SAAS;YAAE,GAAG,CAAC;YAAI,SAAS;QAAE;QAC9B,SAAS;YAAE,GAAG;YAAG,SAAS;QAAE;QAC5B,YAAY;YAAE,UAAU;YAAK,MAAM;gBAAC;gBAAM;gBAAG;gBAAK;aAAE;QAAC;QACrD,WAAU;kBAEV,cAAA,oNAAC;YAAI,WAAU;sBACX,cAAA,oNAAC,6LAAe;;;;;;;;;;;;;;;AAIhC;KAbgB"}},
    {"offset": {"line": 1119, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/src/components/layout/AppShell.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\nimport type { ReactNode } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface AppShellProps {\r\n    children: ReactNode;\r\n    sidebar: ReactNode;\r\n    header: ReactNode;\r\n    className?: string;\r\n}\r\n\r\nexport function AppShell({ children, sidebar, header, className }: AppShellProps) {\r\n    return (\r\n        <div className={cn(\"flex h-screen overflow-hidden bg-background\", className)}>\r\n            {/* Sidebar */}\r\n            <motion.aside\r\n                initial={{ x: -20, opacity: 0 }}\r\n                animate={{ x: 0, opacity: 1 }}\r\n                transition={{ duration: 0.3 }}\r\n                className=\"shrink-0\"\r\n            >\r\n                {sidebar}\r\n            </motion.aside>\r\n\r\n            {/* Main Content Area */}\r\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n                {/* Header */}\r\n                <motion.header\r\n                    initial={{ y: -20, opacity: 0 }}\r\n                    animate={{ y: 0, opacity: 1 }}\r\n                    transition={{ duration: 0.3, delay: 0.1 }}\r\n                    className=\"shrink-0\"\r\n                >\r\n                    {header}\r\n                </motion.header>\r\n\r\n                {/* Content */}\r\n                <main className=\"flex-1 overflow-y-auto px-8 py-6\">\r\n                    {children}\r\n                </main>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AASO,SAAS,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,EAAiB;IAC5E,qBACI,oNAAC;QAAI,WAAW,IAAA,mJAAE,EAAC,+CAA+C;;0BAE9D,oNAAC,8NAAM,CAAC,KAAK;gBACT,SAAS;oBAAE,GAAG,CAAC;oBAAI,SAAS;gBAAE;gBAC9B,SAAS;oBAAE,GAAG;oBAAG,SAAS;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;0BAET;;;;;;0BAIL,oNAAC;gBAAI,WAAU;;kCAEX,oNAAC,8NAAM,CAAC,MAAM;wBACV,SAAS;4BAAE,GAAG,CAAC;4BAAI,SAAS;wBAAE;wBAC9B,SAAS;4BAAE,GAAG;4BAAG,SAAS;wBAAE;wBAC5B,YAAY;4BAAE,UAAU;4BAAK,OAAO;wBAAI;wBACxC,WAAU;kCAET;;;;;;kCAIL,oNAAC;wBAAK,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAKrB;KAhCgB"}},
    {"offset": {"line": 1206, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sande/OneDrive/Documents/GitHub/botbrains/botbrains-nextjs/app/%28authenticated%29/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { type ReactNode, useEffect } from 'react';\r\nimport { useProfileStore } from '@/store/useProfileStore';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Sidebar } from '@/components/layout/Sidebar';\r\nimport { Header } from '@/components/layout/Header';\r\nimport { AppShell } from '@/components/layout/AppShell';\r\n\r\ninterface AuthenticatedLayoutProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport default function AuthenticatedLayout({ children }: AuthenticatedLayoutProps) {\r\n    const currentProfile = useProfileStore((state) => state.currentProfile);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        // If not authenticated, redirect to setup\r\n        if (!currentProfile) {\r\n            router.push('/setup');\r\n        }\r\n    }, [currentProfile, router]);\r\n\r\n    // Don't render anything if not authenticated\r\n    if (!currentProfile) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <AppShell\r\n            sidebar={<Sidebar />}\r\n            header={<Header />}\r\n        >\r\n            {children}\r\n        </AppShell>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAae,SAAS,oBAAoB,EAAE,QAAQ,EAA4B;;IAC9E,MAAM,iBAAiB,IAAA,4KAAe;+DAAC,CAAC,QAAU,MAAM,cAAc;;IACtE,MAAM,SAAS,IAAA,yKAAS;IAExB,IAAA,iMAAS;yCAAC;YACN,0CAA0C;YAC1C,IAAI,CAAC,gBAAgB;gBACjB,OAAO,IAAI,CAAC;YAChB;QACJ;wCAAG;QAAC;QAAgB;KAAO;IAE3B,6CAA6C;IAC7C,IAAI,CAAC,gBAAgB;QACjB,OAAO;IACX;IAEA,qBACI,oNAAC,8KAAQ;QACL,uBAAS,oNAAC,4KAAO;;;;;QACjB,sBAAQ,oNAAC,0KAAM;;;;;kBAEd;;;;;;AAGb;GAxBwB;;QACG,4KAAe;QACvB,yKAAS;;;KAFJ"}}]
}