module.exports=[98177,a=>{"use strict";var b=a.i(38121);function c({label:a,error:c,mono:d=!1,className:e="",...f}){return(0,b.jsxs)("div",{className:"w-full",children:[a&&(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2 transition-colors",children:a}),(0,b.jsx)("textarea",{className:`
                    w-full px-4 py-2.5
                    bg-background/50
                    border border-input
                    rounded-md
                    text-sm
                    text-foreground
                    placeholder:text-muted-foreground
                    focus:outline-none 
                    focus:ring-2 
                    focus:ring-primary/50 
                    focus:border-primary
                    focus:bg-background/80
                    disabled:cursor-not-allowed disabled:opacity-50
                    resize-y
                    transition-all duration-300 ease-out
                    hover:border-input/80
                    shadow-sm focus:shadow-md
                    ${d?"font-mono":""}
                    ${c?"border-destructive focus:ring-destructive/50 focus:border-destructive":""}
                    ${e}
                `,...f}),c&&(0,b.jsx)("p",{className:"mt-2 text-xs text-destructive animate-slide-up",children:c})]})}a.s(["Textarea",()=>c])},53316,a=>{"use strict";var b=a.i(76983);a.i(958);var c=a.i(55475);let d="categories";async function e(a,e,f,g){let h=`cat-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,i={id:h,name:a,color:e,description:f,workspaceId:g,created_at:new Date().toISOString()};return await (0,c.setDoc)((0,c.doc)(b.db,d,h),i),i}async function f(a){let e;e=a?(0,c.query)((0,c.collection)(b.db,d),(0,c.where)("workspaceId","==",a),(0,c.orderBy)("name")):(0,c.query)((0,c.collection)(b.db,d),(0,c.orderBy)("name"));try{return(await (0,c.getDocs)(e)).docs.map(a=>a.data())}catch(e){if("failed-precondition"===e.code){let e=a?(0,c.query)((0,c.collection)(b.db,d),(0,c.where)("workspaceId","==",a)):(0,c.collection)(b.db,d);return(await (0,c.getDocs)(e)).docs.map(a=>a.data()).sort((a,b)=>a.name.localeCompare(b.name))}throw e}}async function g(a){let e=(0,c.doc)(b.db,d,a),f=await (0,c.getDoc)(e);if(f.exists())return f.data()}async function h(a,e){let f=(0,c.doc)(b.db,d,a);await (0,c.updateDoc)(f,e)}async function i(a){await (0,c.deleteDoc)((0,c.doc)(b.db,d,a))}async function j(a,d){let e=(0,c.query)((0,c.collection)(b.db,"prompts"),(0,c.where)("category","==",a));return d&&(e=(0,c.query)(e,(0,c.where)("workspaceId","==",d))),(await (0,c.getCountFromServer)(e)).data().count}async function k(a,e){let f=(0,c.query)((0,c.collection)(b.db,d),(0,c.where)("name","==",a));e&&(f=(0,c.query)(f,(0,c.where)("workspaceId","==",e)));let g=await (0,c.getDocs)(f);if(!g.empty)return g.docs[0].data()}a.s(["createCategory",()=>e,"deleteCategory",()=>i,"getAllCategories",()=>f,"getCategory",()=>g,"getCategoryByName",()=>k,"getCategoryUsageCount",()=>j,"updateCategory",()=>h])},54202,a=>{"use strict";var b=a.i(38121);function c({label:a,error:c,className:d="",...e}){return(0,b.jsxs)("div",{className:"w-full",children:[a&&(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2 transition-colors",children:a}),(0,b.jsx)("input",{className:`
                    w-full px-4 py-2.5
                    bg-background/50
                    border border-input
                    rounded-md
                    text-sm
                    text-foreground
                    placeholder:text-muted-foreground
                    focus:outline-none 
                    focus:ring-2 
                    focus:ring-primary/50 
                    focus:border-primary
                    focus:bg-background/80
                    disabled:cursor-not-allowed disabled:opacity-50
                    transition-all duration-300 ease-out
                    hover:border-input/80
                    shadow-sm focus:shadow-md
                    ${c?"border-destructive focus:ring-destructive/50 focus:border-destructive":""}
                    ${d}
                `,...e}),c&&(0,b.jsx)("p",{className:"mt-2 text-xs text-destructive animate-slide-up",children:c})]})}a.s(["Input",()=>c])},32450,a=>{"use strict";let b=(0,a.i(24076).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],32450)},49253,a=>{"use strict";var b=a.i(38121);function c({className:a=""}){return(0,b.jsx)("div",{className:`
                animate-pulse rounded-md bg-muted/60
                relative overflow-hidden
                before:absolute before:inset-0
                before:-translate-x-full
                before:animate-[shimmer_2s_infinite]
                before:bg-gradient-to-r
                before:from-transparent before:via-white/10 before:to-transparent
                ${a}
            `})}a.s(["Skeleton",()=>c])},47938,22213,a=>{"use strict";let b=(0,a.i(24076).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],47938);var c=a.i(38121),d=a.i(9340),e=a.i(96821),f=a.i(68650),g=a.i(87296);function h({isOpen:a,onClose:b,title:h,children:i,size:j="md"}){return(0,e.useEffect)(()=>{let c=a=>{"Escape"===a.key&&b()};return a&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[a,b]),(0,c.jsx)(g.AnimatePresence,{children:a&&(0,c.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,c.jsx)(f.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:b}),(0,c.jsxs)(f.motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",stiffness:300,damping:30},className:`
                            relative w-full ${{sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"}[j]}
                            bg-card/95 border border-border/80 rounded-lg
                            shadow-xl shadow-black/20
                            backdrop-blur-xl
                        `,children:[h&&(0,c.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border/60",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:h}),(0,c.jsx)("button",{onClick:b,className:"text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted/50 p-1.5 rounded-md",children:(0,c.jsx)(d.X,{className:"w-5 h-5"})})]}),(0,c.jsx)("div",{className:"p-6 max-h-[80vh] overflow-y-auto scrollbar-thin",children:i})]})]})})}a.s(["Modal",()=>h],22213)},62558,a=>{"use strict";var b=a.i(38121),c=a.i(96821),d=a.i(73752),e=a.i(47938),f=a.i(32450),g=a.i(75345),h=a.i(53316);let i=(0,g.create)(a=>({categories:[],isLoading:!1,loadCategories:async()=>{a({isLoading:!0});try{let b=await (0,h.getAllCategories)();a({categories:b,isLoading:!1})}catch(b){console.error("Failed to load categories:",b),a({isLoading:!1})}},createCategory:async(b,c,d)=>{let e=await (0,h.createCategory)(b,c,d);return a(a=>({categories:[...a.categories,e]})),e},updateCategory:async(b,c)=>{await (0,h.updateCategory)(b,c),a(a=>({categories:a.categories.map(a=>a.id===b?{...a,...c}:a)}))},deleteCategory:async b=>{await (0,h.deleteCategory)(b),a(a=>({categories:a.categories.filter(a=>a.id!==b)}))},getCategoryUsageCount:async a=>(0,h.getCategoryUsageCount)(a)}));var j=a.i(58972),k=a.i(70709),l=a.i(49253),m=a.i(22213),n=a.i(54202),o=a.i(98177);let p=["#00C2FF","#B78BFF","#FFB86B","#57D78A","#FF6B6B","#9AA9B6","#FFD600","#FF1744"];function q({category:a,isOpen:d,onClose:e,onSave:f}){let[g,h]=(0,c.useState)({name:"",color:"#00C2FF",description:""}),[i,j]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a?h({name:a.name,color:a.color,description:a.description||""}):h({name:"",color:"#00C2FF",description:""})},[a,d]);let l=async()=>{if(g.name.trim()){j(!0);try{await f(g),e()}catch(a){console.error("Failed to save category:",a)}finally{j(!1)}}};return(0,b.jsx)(m.Modal,{isOpen:d,onClose:e,title:a?"Edit Category":"Create Category",size:"md",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(n.Input,{label:"Name *",value:g.name,onChange:a=>h({...g,name:a.target.value}),placeholder:"e.g., Content Marketing",autoFocus:!0}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Color *"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:p.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>h({...g,color:a}),className:`w-8 h-8 rounded-full border-2 transition-all ${g.color===a?"border-accent scale-110":"border-muted hover:border-accent/50"}`,style:{backgroundColor:a},title:a},a))}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"color",value:g.color,onChange:a=>h({...g,color:a.target.value}),className:"w-12 h-10 rounded border border-muted cursor-pointer bg-transparent"}),(0,b.jsx)(n.Input,{value:g.color,onChange:a=>h({...g,color:a.target.value}),placeholder:"#00C2FF",className:"flex-1"})]})]}),(0,b.jsx)(o.Textarea,{label:"Description (optional)",value:g.description,onChange:a=>h({...g,description:a.target.value}),placeholder:"Brief description of this category...",rows:3}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4",children:[(0,b.jsx)(k.Button,{variant:"ghost",onClick:e,disabled:i,children:"Cancel"}),(0,b.jsxs)(k.Button,{onClick:l,isLoading:i,disabled:!g.name.trim(),children:[a?"Update":"Create"," Category"]})]})]})})}function r(){let a=i(a=>a.categories),g=i(a=>a.loadCategories),h=i(a=>a.createCategory),m=i(a=>a.updateCategory),n=i(a=>a.deleteCategory),o=i(a=>a.getCategoryUsageCount),p=(0,j.useToast)(),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(),[v,w]=(0,c.useState)({}),[x,y]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{await g(),y(!1)})()},[g]),(0,c.useEffect)(()=>{let b=async()=>{let b={};for(let c of a)b[c.name]=await o(c.name);w(b)};a.length>0&&b()},[a,o]);let z=async a=>{try{t?(await m(t.id,a),p.success("Category updated")):(await h(a.name,a.color,a.description),p.success("Category created")),s(!1),u(void 0)}catch(a){p.error("Failed to save category"),console.error(a)}},A=async a=>{let b=v[a.name]||0;if(!(b>0)||confirm(`"${a.name}" is used in ${b} prompt(s). Delete anyway? Prompts will lose this category.`))try{await n(a.id),p.success("Category deleted")}catch(a){p.error("Failed to delete category"),console.error(a)}},B=()=>{u(void 0),s(!0)};return x?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 px-8 py-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Skeleton,{className:"h-8 w-48 mb-2"}),(0,b.jsx)(l.Skeleton,{className:"h-4 w-64"})]}),(0,b.jsx)(l.Skeleton,{className:"h-10 w-32"})]}),(0,b.jsx)("div",{className:"space-y-3",children:Array.from({length:5}).map((a,c)=>(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-4",children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)(l.Skeleton,{className:"w-4 h-4 rounded-full"}),(0,b.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,b.jsx)(l.Skeleton,{className:"h-5 w-32"}),(0,b.jsx)(l.Skeleton,{className:"h-4 w-48"})]})]})})},c))})]}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 px-8 py-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-1",children:"Categories"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Organize your prompts with color-coded categories"})]}),(0,b.jsxs)(k.Button,{onClick:B,children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"}),"New Category"]})]}),0===a.length?(0,b.jsxs)("div",{className:"bg-card/50 border border-border border-dashed rounded-lg p-16 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-6 opacity-50",children:"ðŸ“"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No categories yet"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-8",children:"Create your first category to organize your prompts"}),(0,b.jsxs)(k.Button,{onClick:B,children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"}),"Create Category"]})]}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-4 transition-all hover:border-primary/40 group",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded-full flex-shrink-0 shadow-sm",style:{backgroundColor:a.color}}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-base font-semibold text-foreground",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Used in ",v[a.name]||0," prompt(s)"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>{u(a),s(!0)},className:"p-2 hover:bg-secondary rounded text-muted-foreground hover:text-foreground transition-colors",title:"Edit","aria-label":"Edit",children:(0,b.jsx)(e.Edit2,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>A(a),className:"p-2 hover:bg-destructive/10 rounded text-muted-foreground hover:text-destructive transition-colors",title:"Delete","aria-label":"Delete",children:(0,b.jsx)(f.Trash2,{className:"w-4 h-4"})})]})]})},a.id))}),(0,b.jsx)(q,{category:t,isOpen:r,onClose:()=>{s(!1),u(void 0)},onSave:z})]})}function s(){return(0,b.jsx)(r,{})}a.s(["default",()=>s],62558)}];

//# sourceMappingURL=botbrains-nextjs_a416f96c._.js.map