{"version":3,"sources":["../../../../../botbrains-nextjs/src/components/ui/Textarea.tsx","../../../../../botbrains-nextjs/src/lib/categoryStorage.ts","../../../../../botbrains-nextjs/src/components/ui/Input.tsx","../../../../../botbrains-nextjs/node_modules/lucide-react/src/icons/trash-2.ts","../../../../../botbrains-nextjs/src/components/ui/Skeleton.tsx","../../../../../botbrains-nextjs/src/components/ui/Modal.tsx","../../../../../botbrains-nextjs/node_modules/lucide-react/src/icons/pen.ts","../../../../../botbrains-nextjs/src/page-components/Categories.tsx","../../../../../botbrains-nextjs/src/store/useCategoryStore.ts","../../../../../botbrains-nextjs/src/components/category/CategoryForm.tsx","../../../../../botbrains-nextjs/app/%28authenticated%29/categories/page.tsx"],"sourcesContent":["import type { TextareaHTMLAttributes } from 'react';\r\n\r\nexport interface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\r\n    label?: string;\r\n    error?: string;\r\n    mono?: boolean;\r\n}\r\n\r\nexport function Textarea({ label, error, mono = false, className = '', ...props }: TextareaProps) {\r\n    return (\r\n        <div className=\"w-full\">\r\n            {label && (\r\n                <label className=\"block text-sm font-medium text-foreground mb-2 transition-colors\">\r\n                    {label}\r\n                </label>\r\n            )}\r\n            <textarea\r\n                className={`\r\n                    w-full px-4 py-2.5\r\n                    bg-background/50\r\n                    border border-input\r\n                    rounded-md\r\n                    text-sm\r\n                    text-foreground\r\n                    placeholder:text-muted-foreground\r\n                    focus:outline-none \r\n                    focus:ring-2 \r\n                    focus:ring-primary/50 \r\n                    focus:border-primary\r\n                    focus:bg-background/80\r\n                    disabled:cursor-not-allowed disabled:opacity-50\r\n                    resize-y\r\n                    transition-all duration-300 ease-out\r\n                    hover:border-input/80\r\n                    shadow-sm focus:shadow-md\r\n                    ${mono ? 'font-mono' : ''}\r\n                    ${error ? 'border-destructive focus:ring-destructive/50 focus:border-destructive' : ''}\r\n                    ${className}\r\n                `}\r\n                {...props}\r\n            />\r\n            {error && <p className=\"mt-2 text-xs text-destructive animate-slide-up\">{error}</p>}\r\n        </div>\r\n    );\r\n}\r\n","import { db } from './firebase';\r\nimport { collection, doc, getDoc, getDocs, setDoc, updateDoc, deleteDoc, query, where, orderBy, getCountFromServer } from 'firebase/firestore';\r\nimport type { Category } from '@/types';\r\n\r\nconst COLLECTION = 'categories';\r\n\r\n/**\r\n * Generate a unique ID for categories\r\n */\r\nfunction generateId(): string {\r\n    return `cat-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n}\r\n\r\n/**\r\n * Create a new category\r\n */\r\nexport async function createCategory(\r\n    name: string,\r\n    color: string,\r\n    description?: string,\r\n    workspaceId?: string\r\n): Promise<Category> {\r\n    const id = generateId();\r\n    const category: Category = {\r\n        id,\r\n        name,\r\n        color,\r\n        description,\r\n        workspaceId,\r\n        created_at: new Date().toISOString(),\r\n    };\r\n\r\n    await setDoc(doc(db, COLLECTION, id), category);\r\n    return category;\r\n}\r\n\r\n/**\r\n * Get all categories\r\n */\r\nexport async function getAllCategories(workspaceId?: string): Promise<Category[]> {\r\n    let q;\r\n    if (workspaceId) {\r\n        q = query(collection(db, COLLECTION), where('workspaceId', '==', workspaceId), orderBy('name'));\r\n    } else {\r\n        q = query(collection(db, COLLECTION), orderBy('name'));\r\n    }\r\n\r\n    // Fallback if index not created yet:\r\n    // If orderBy fails due to missing index, we might need to catch and sort in memory.\r\n    // For now assuming we can fix indexes or run in dev mode.\r\n    // Actually, simple queries without composite fields don't strictly need indexes for some cases, \r\n    // but 'where'+'orderBy' usually does.\r\n    // To be safe and simple for migration, we can fetch then sort in client if we expect low volume.\r\n    // But let's try strict constraints first.\r\n\r\n    try {\r\n        const querySnapshot = await getDocs(q);\r\n        return querySnapshot.docs.map(doc => doc.data() as Category);\r\n    } catch (e: any) {\r\n        // Fallback: fetch without sort if index error\r\n        if (e.code === 'failed-precondition') {\r\n            const fallbackQ = workspaceId\r\n                ? query(collection(db, COLLECTION), where('workspaceId', '==', workspaceId))\r\n                : collection(db, COLLECTION);\r\n            const snap = await getDocs(fallbackQ);\r\n            const docs = snap.docs.map(doc => doc.data() as Category);\r\n            return docs.sort((a, b) => a.name.localeCompare(b.name));\r\n        }\r\n        throw e;\r\n    }\r\n}\r\n\r\n/**\r\n * Get a single category by ID\r\n */\r\nexport async function getCategory(id: string): Promise<Category | undefined> {\r\n    const docRef = doc(db, COLLECTION, id);\r\n    const docSnap = await getDoc(docRef);\r\n\r\n    if (docSnap.exists()) {\r\n        return docSnap.data() as Category;\r\n    }\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * Update a category\r\n */\r\nexport async function updateCategory(\r\n    id: string,\r\n    updates: Partial<Omit<Category, 'id' | 'created_at'>>\r\n): Promise<void> {\r\n    const docRef = doc(db, COLLECTION, id);\r\n    await updateDoc(docRef, updates);\r\n}\r\n\r\n/**\r\n * Delete a category\r\n */\r\nexport async function deleteCategory(id: string): Promise<void> {\r\n    await deleteDoc(doc(db, COLLECTION, id));\r\n}\r\n\r\n/**\r\n * Get usage count for a category (how many prompts use it)\r\n */\r\nexport async function getCategoryUsageCount(categoryName: string, workspaceId?: string): Promise<number> {\r\n    // Note: This relies on prompts having the category NAME stored, which is brittle if names change.\r\n    // Ideally prompts should store categoryId.\r\n    // Assuming legacy structure stores name.\r\n\r\n    let q = query(collection(db, 'prompts'), where('category', '==', categoryName));\r\n    if (workspaceId) {\r\n        q = query(q, where('workspaceId', '==', workspaceId));\r\n    }\r\n\r\n    const snapshot = await getCountFromServer(q);\r\n    return snapshot.data().count;\r\n}\r\n\r\n/**\r\n * Get category by name\r\n */\r\nexport async function getCategoryByName(name: string, workspaceId?: string): Promise<Category | undefined> {\r\n    let q = query(collection(db, COLLECTION), where('name', '==', name));\r\n    if (workspaceId) {\r\n        q = query(q, where('workspaceId', '==', workspaceId));\r\n    }\r\n\r\n    const querySnapshot = await getDocs(q);\r\n    if (!querySnapshot.empty) {\r\n        return querySnapshot.docs[0].data() as Category;\r\n    }\r\n    return undefined;\r\n}\r\n","import type { InputHTMLAttributes } from 'react';\r\n\r\nexport interface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n    label?: string;\r\n    error?: string;\r\n}\r\n\r\nexport function Input({ label, error, className = '', ...props }: InputProps) {\r\n    return (\r\n        <div className=\"w-full\">\r\n            {label && (\r\n                <label className=\"block text-sm font-medium text-foreground mb-2 transition-colors\">\r\n                    {label}\r\n                </label>\r\n            )}\r\n            <input\r\n                className={`\r\n                    w-full px-4 py-2.5\r\n                    bg-background/50\r\n                    border border-input\r\n                    rounded-md\r\n                    text-sm\r\n                    text-foreground\r\n                    placeholder:text-muted-foreground\r\n                    focus:outline-none \r\n                    focus:ring-2 \r\n                    focus:ring-primary/50 \r\n                    focus:border-primary\r\n                    focus:bg-background/80\r\n                    disabled:cursor-not-allowed disabled:opacity-50\r\n                    transition-all duration-300 ease-out\r\n                    hover:border-input/80\r\n                    shadow-sm focus:shadow-md\r\n                    ${error ? 'border-destructive focus:ring-destructive/50 focus:border-destructive' : ''}\r\n                    ${className}\r\n                `}\r\n                {...props}\r\n            />\r\n            {error && <p className=\"mt-2 text-xs text-destructive animate-slide-up\">{error}</p>}\r\n        </div>\r\n    );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","export function Skeleton({ className = '' }: { className?: string }) {\r\n    return (\r\n        <div\r\n            className={`\r\n                animate-pulse rounded-md bg-muted/60\r\n                relative overflow-hidden\r\n                before:absolute before:inset-0\r\n                before:-translate-x-full\r\n                before:animate-[shimmer_2s_infinite]\r\n                before:bg-gradient-to-r\r\n                before:from-transparent before:via-white/10 before:to-transparent\r\n                ${className}\r\n            `}\r\n        />\r\n    );\r\n}\r\n","import { X } from 'lucide-react';\r\nimport { useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nexport interface ModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    title?: string;\r\n    children: React.ReactNode;\r\n    size?: 'sm' | 'md' | 'lg' | 'xl';\r\n}\r\n\r\nexport function Modal({ isOpen, onClose, title, children, size = 'md' }: ModalProps) {\r\n    // Handle ESC key\r\n    useEffect(() => {\r\n        const handleEsc = (e: KeyboardEvent) => {\r\n            if (e.key === 'Escape') onClose();\r\n        };\r\n\r\n        if (isOpen) {\r\n            document.addEventListener('keydown', handleEsc);\r\n            document.body.style.overflow = 'hidden';\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener('keydown', handleEsc);\r\n            document.body.style.overflow = 'unset';\r\n        };\r\n    }, [isOpen, onClose]);\r\n\r\n    const sizes = {\r\n        sm: 'max-w-md',\r\n        md: 'max-w-2xl',\r\n        lg: 'max-w-4xl',\r\n        xl: 'max-w-6xl',\r\n    };\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {isOpen && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\r\n                    {/* Backdrop */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        transition={{ duration: 0.2 }}\r\n                        className=\"absolute inset-0 bg-black/70 backdrop-blur-md\"\r\n                        onClick={onClose}\r\n                    />\r\n\r\n                    {/* Modal */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                        exit={{ opacity: 0, scale: 0.95, y: 20 }}\r\n                        transition={{\r\n                            type: \"spring\",\r\n                            stiffness: 300,\r\n                            damping: 30\r\n                        }}\r\n                        className={`\r\n                            relative w-full ${sizes[size]}\r\n                            bg-card/95 border border-border/80 rounded-lg\r\n                            shadow-xl shadow-black/20\r\n                            backdrop-blur-xl\r\n                        `}\r\n                    >\r\n                        {/* Header */}\r\n                        {title && (\r\n                            <div className=\"flex items-center justify-between p-6 border-b border-border/60\">\r\n                                <h2 className=\"text-xl font-semibold text-foreground\">{title}</h2>\r\n                                <button\r\n                                    onClick={onClose}\r\n                                    className=\"text-muted-foreground hover:text-foreground transition-colors duration-200 hover:bg-muted/50 p-1.5 rounded-md\"\r\n                                >\r\n                                    <X className=\"w-5 h-5\" />\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Content */}\r\n                        <div className=\"p-6 max-h-[80vh] overflow-y-auto scrollbar-thin\">\r\n                            {children}\r\n                        </div>\r\n                    </motion.div>\r\n                </div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('pen', __iconNode);\n\nexport default Pen;\n","import { useState, useEffect } from 'react';\r\nimport { Plus, Edit2, Trash2 } from 'lucide-react';\r\nimport type { Category } from '@/types';\r\nimport { useCategoryStore } from '@/store/useCategoryStore';\r\nimport { useToast } from '@/hooks/useToast';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Skeleton } from '@/components/ui/Skeleton';\r\nimport { CategoryForm } from '@/components/category/CategoryForm';\r\n\r\nexport function Categories() {\r\n    const categories = useCategoryStore((state) => state.categories);\r\n    const loadCategories = useCategoryStore((state) => state.loadCategories);\r\n    const createCategory = useCategoryStore((state) => state.createCategory);\r\n    const updateCategory = useCategoryStore((state) => state.updateCategory);\r\n    const deleteCategory = useCategoryStore((state) => state.deleteCategory);\r\n    const getCategoryUsageCount = useCategoryStore((state) => state.getCategoryUsageCount);\r\n\r\n    const toast = useToast();\r\n\r\n    const [isFormOpen, setIsFormOpen] = useState(false);\r\n    const [editingCategory, setEditingCategory] = useState<Category | undefined>();\r\n    const [usageCounts, setUsageCounts] = useState<Record<string, number>>({});\r\n\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    // Load categories on mount\r\n    useEffect(() => {\r\n        const init = async () => {\r\n            await loadCategories();\r\n            setIsLoading(false);\r\n        };\r\n        init();\r\n    }, [loadCategories]);\r\n\r\n    // Load usage counts for all categories\r\n    useEffect(() => {\r\n        const loadUsageCounts = async () => {\r\n            const counts: Record<string, number> = {};\r\n            for (const category of categories) {\r\n                counts[category.name] = await getCategoryUsageCount(category.name);\r\n            }\r\n            setUsageCounts(counts);\r\n        };\r\n\r\n        if (categories.length > 0) {\r\n            loadUsageCounts();\r\n        }\r\n    }, [categories, getCategoryUsageCount]);\r\n\r\n    const handleSaveCategory = async (data: { name: string; color: string; description?: string }) => {\r\n        try {\r\n            if (editingCategory) {\r\n                await updateCategory(editingCategory.id, data);\r\n                toast.success('Category updated');\r\n            } else {\r\n                await createCategory(data.name, data.color, data.description);\r\n                toast.success('Category created');\r\n            }\r\n            setIsFormOpen(false);\r\n            setEditingCategory(undefined);\r\n        } catch (error) {\r\n            toast.error('Failed to save category');\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (category: Category) => {\r\n        setEditingCategory(category);\r\n        setIsFormOpen(true);\r\n    };\r\n\r\n    const handleDelete = async (category: Category) => {\r\n        const count = usageCounts[category.name] || 0;\r\n\r\n        if (count > 0) {\r\n            const confirmed = confirm(\r\n                `\"${category.name}\" is used in ${count} prompt(s). Delete anyway? Prompts will lose this category.`\r\n            );\r\n            if (!confirmed) return;\r\n        }\r\n\r\n        try {\r\n            await deleteCategory(category.id);\r\n            toast.success('Category deleted');\r\n        } catch (error) {\r\n            toast.error('Failed to delete category');\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const handleNewCategory = () => {\r\n        setEditingCategory(undefined);\r\n        setIsFormOpen(true);\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"max-w-4xl mx-auto space-y-6 px-8 py-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div>\r\n                        <Skeleton className=\"h-8 w-48 mb-2\" />\r\n                        <Skeleton className=\"h-4 w-64\" />\r\n                    </div>\r\n                    <Skeleton className=\"h-10 w-32\" />\r\n                </div>\r\n                <div className=\"space-y-3\">\r\n                    {Array.from({ length: 5 }).map((_, i) => (\r\n                        <div key={i} className=\"bg-card border border-border rounded-lg p-4\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3 flex-1\">\r\n                                    <Skeleton className=\"w-4 h-4 rounded-full\" />\r\n                                    <div className=\"space-y-2 flex-1\">\r\n                                        <Skeleton className=\"h-5 w-32\" />\r\n                                        <Skeleton className=\"h-4 w-48\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto space-y-6 px-8 py-6\">\r\n            {/* Header */}\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold text-foreground mb-1\">Categories</h1>\r\n                    <p className=\"text-muted-foreground text-sm\">\r\n                        Organize your prompts with color-coded categories\r\n                    </p>\r\n                </div>\r\n                <Button onClick={handleNewCategory}>\r\n                    <Plus className=\"w-4 h-4\" />\r\n                    New Category\r\n                </Button>\r\n            </div>\r\n\r\n            {/* Categories List */}\r\n            {categories.length === 0 ? (\r\n                <div className=\"bg-card/50 border border-border border-dashed rounded-lg p-16 text-center\">\r\n                    <div className=\"text-6xl mb-6 opacity-50\">üìÅ</div>\r\n                    <h3 className=\"text-xl font-semibold text-foreground mb-2\">\r\n                        No categories yet\r\n                    </h3>\r\n                    <p className=\"text-muted-foreground mb-8\">\r\n                        Create your first category to organize your prompts\r\n                    </p>\r\n                    <Button onClick={handleNewCategory}>\r\n                        <Plus className=\"w-4 h-4\" />\r\n                        Create Category\r\n                    </Button>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-3\">\r\n                    {categories.map((category) => (\r\n                        <div\r\n                            key={category.id}\r\n                            className=\"bg-card border border-border rounded-lg p-4 transition-all hover:border-primary/40 group\"\r\n                        >\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3 flex-1\">\r\n                                    {/* Color Badge */}\r\n                                    <div\r\n                                        className=\"w-4 h-4 rounded-full flex-shrink-0 shadow-sm\"\r\n                                        style={{ backgroundColor: category.color }}\r\n                                    />\r\n\r\n                                    <div className=\"flex-1\">\r\n                                        <h3 className=\"text-base font-semibold text-foreground\">\r\n                                            {category.name}\r\n                                        </h3>\r\n                                        {category.description && (\r\n                                            <p className=\"text-sm text-muted-foreground\">\r\n                                                {category.description}\r\n                                            </p>\r\n                                        )}\r\n                                        <p className=\"text-xs text-muted-foreground mt-1\">\r\n                                            Used in {usageCounts[category.name] || 0} prompt(s)\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Actions */}\r\n                                <div className=\"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                    <button\r\n                                        onClick={() => handleEdit(category)}\r\n                                        className=\"p-2 hover:bg-secondary rounded text-muted-foreground hover:text-foreground transition-colors\"\r\n                                        title=\"Edit\"\r\n                                        aria-label=\"Edit\"\r\n                                    >\r\n                                        <Edit2 className=\"w-4 h-4\" />\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleDelete(category)}\r\n                                        className=\"p-2 hover:bg-destructive/10 rounded text-muted-foreground hover:text-destructive transition-colors\"\r\n                                        title=\"Delete\"\r\n                                        aria-label=\"Delete\"\r\n                                    >\r\n                                        <Trash2 className=\"w-4 h-4\" />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Category Form Modal */}\r\n            <CategoryForm\r\n                category={editingCategory}\r\n                isOpen={isFormOpen}\r\n                onClose={() => {\r\n                    setIsFormOpen(false);\r\n                    setEditingCategory(undefined);\r\n                }}\r\n                onSave={handleSaveCategory}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import { create } from 'zustand';\r\nimport type { Category } from '@/types';\r\nimport {\r\n    getAllCategories,\r\n    createCategory as dbCreateCategory,\r\n    updateCategory as dbUpdateCategory,\r\n    deleteCategory as dbDeleteCategory,\r\n    getCategoryUsageCount,\r\n} from '@/lib/categoryStorage';\r\n\r\ninterface CategoryStore {\r\n    // State\r\n    categories: Category[];\r\n    isLoading: boolean;\r\n\r\n    // Actions\r\n    loadCategories: () => Promise<void>;\r\n    createCategory: (name: string, color: string, description?: string) => Promise<Category>;\r\n    updateCategory: (id: string, updates: Partial<Category>) => Promise<void>;\r\n    deleteCategory: (id: string) => Promise<void>;\r\n    getCategoryUsageCount: (categoryName: string) => Promise<number>;\r\n}\r\n\r\nexport const useCategoryStore = create<CategoryStore>((set) => ({\r\n    // Initial state\r\n    categories: [],\r\n    isLoading: false,\r\n\r\n    // Load all categories\r\n    loadCategories: async () => {\r\n        set({ isLoading: true });\r\n        try {\r\n            const categories = await getAllCategories();\r\n            set({ categories, isLoading: false });\r\n        } catch (error) {\r\n            console.error('Failed to load categories:', error);\r\n            set({ isLoading: false });\r\n        }\r\n    },\r\n\r\n    // Create a new category\r\n    createCategory: async (name, color, description?) => {\r\n        const category = await dbCreateCategory(name, color, description);\r\n        set(state => ({ categories: [...state.categories, category] }));\r\n        return category;\r\n    },\r\n\r\n    // Update a category\r\n    updateCategory: async (id, updates) => {\r\n        await dbUpdateCategory(id, updates);\r\n        set(state => ({\r\n            categories: state.categories.map(c =>\r\n                c.id === id ? { ...c, ...updates } : c\r\n            ),\r\n        }));\r\n    },\r\n\r\n    // Delete a category\r\n    deleteCategory: async (id) => {\r\n        await dbDeleteCategory(id);\r\n        set(state => ({\r\n            categories: state.categories.filter(c => c.id !== id),\r\n        }));\r\n    },\r\n\r\n    // Get usage count\r\n    getCategoryUsageCount: async (categoryName) => {\r\n        return getCategoryUsageCount(categoryName);\r\n    },\r\n}));\r\n","import { useState, useEffect } from 'react';\r\nimport type { Category } from '@/types';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Textarea } from '@/components/ui/Textarea';\r\nimport { Button } from '@/components/ui/Button';\r\n\r\ninterface CategoryFormProps {\r\n    category?: Category; // undefined for new, provided for edit\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onSave: (data: { name: string; color: string; description?: string }) => Promise<void>;\r\n}\r\n\r\nconst PRESET_COLORS = [\r\n    '#00C2FF', // LLM cyan\r\n    '#B78BFF', // Image violet\r\n    '#FFB86B', // Video amber\r\n    '#57D78A', // Automation green\r\n    '#FF6B6B', // Danger red\r\n    '#9AA9B6', // Other grey\r\n    '#FFD600', // Yellow\r\n    '#FF1744', // Pink\r\n];\r\n\r\nexport function CategoryForm({ category, isOpen, onClose, onSave }: CategoryFormProps) {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        color: '#00C2FF',\r\n        description: '',\r\n    });\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    // Initialize form with category data if editing\r\n    useEffect(() => {\r\n        if (category) {\r\n            setFormData({\r\n                name: category.name,\r\n                color: category.color,\r\n                description: category.description || '',\r\n            });\r\n        } else {\r\n            // Reset form for new category\r\n            setFormData({\r\n                name: '',\r\n                color: '#00C2FF',\r\n                description: '',\r\n            });\r\n        }\r\n    }, [category, isOpen]);\r\n\r\n    const handleSave = async () => {\r\n        if (!formData.name.trim()) {\r\n            return;\r\n        }\r\n\r\n        setIsSaving(true);\r\n        try {\r\n            await onSave(formData);\r\n            onClose();\r\n        } catch (error) {\r\n            console.error('Failed to save category:', error);\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            title={category ? 'Edit Category' : 'Create Category'}\r\n            size=\"md\"\r\n        >\r\n            <div className=\"space-y-4\">\r\n                {/* Name Input */}\r\n                <Input\r\n                    label=\"Name *\"\r\n                    value={formData.name}\r\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                    placeholder=\"e.g., Content Marketing\"\r\n                    autoFocus\r\n                />\r\n\r\n                {/* Color Picker */}\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-text-primary mb-2\">\r\n                        Color *\r\n                    </label>\r\n\r\n                    {/* Preset Colors */}\r\n                    <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                        {PRESET_COLORS.map((color) => (\r\n                            <button\r\n                                key={color}\r\n                                type=\"button\"\r\n                                onClick={() => setFormData({ ...formData, color })}\r\n                                className={`w-8 h-8 rounded-full border-2 transition-all ${formData.color === color\r\n                                        ? 'border-accent scale-110'\r\n                                        : 'border-muted hover:border-accent/50'\r\n                                    }`}\r\n                                style={{ backgroundColor: color }}\r\n                                title={color}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Custom Color Input */}\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <input\r\n                            type=\"color\"\r\n                            value={formData.color}\r\n                            onChange={(e) => setFormData({ ...formData, color: e.target.value })}\r\n                            className=\"w-12 h-10 rounded border border-muted cursor-pointer bg-transparent\"\r\n                        />\r\n                        <Input\r\n                            value={formData.color}\r\n                            onChange={(e) => setFormData({ ...formData, color: e.target.value })}\r\n                            placeholder=\"#00C2FF\"\r\n                            className=\"flex-1\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Description */}\r\n                <Textarea\r\n                    label=\"Description (optional)\"\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                    placeholder=\"Brief description of this category...\"\r\n                    rows={3}\r\n                />\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex items-center justify-end gap-3 pt-4\">\r\n                    <Button variant=\"ghost\" onClick={onClose} disabled={isSaving}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button\r\n                        onClick={handleSave}\r\n                        isLoading={isSaving}\r\n                        disabled={!formData.name.trim()}\r\n                    >\r\n                        {category ? 'Update' : 'Create'} Category\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { Categories } from '@/page-components/Categories';\r\n\r\nexport default function CategoriesPage() {\r\n    return <Categories />;\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[3,6]}