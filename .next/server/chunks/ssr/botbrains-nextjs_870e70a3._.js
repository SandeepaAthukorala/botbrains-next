module.exports=[7600,a=>{"use strict";let b=(0,a.i(24076).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],7600)},93844,a=>{"use strict";var b=a.i(76983);a.i(958);var c=a.i(55475);let d="keywords";async function e(a,e){let f=`kw-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,g={id:f,name:a,workspaceId:e,created_at:new Date().toISOString()};return await (0,c.setDoc)((0,c.doc)(b.db,d,f),g),g}async function f(a){let e;e=a?(0,c.query)((0,c.collection)(b.db,d),(0,c.where)("workspaceId","==",a),(0,c.orderBy)("name")):(0,c.query)((0,c.collection)(b.db,d),(0,c.orderBy)("name"));try{return(await (0,c.getDocs)(e)).docs.map(a=>a.data())}catch(e){if("failed-precondition"===e.code){let e=a?(0,c.query)((0,c.collection)(b.db,d),(0,c.where)("workspaceId","==",a)):(0,c.collection)(b.db,d);return(await (0,c.getDocs)(e)).docs.map(a=>a.data()).sort((a,b)=>a.name.localeCompare(b.name))}throw e}}async function g(a){let e=(0,c.doc)(b.db,d,a),f=await (0,c.getDoc)(e);if(f.exists())return f.data()}async function h(a){await (0,c.deleteDoc)((0,c.doc)(b.db,d,a))}async function i(a,d){let e=(0,c.query)((0,c.collection)(b.db,"prompts"));d&&(e=(0,c.query)(e,(0,c.where)("workspaceId","==",d)));let f=(0,c.query)(e,(0,c.where)("keywords","array-contains",a));return(await (0,c.getDocs)(f)).size}async function j(a,e){let f=(0,c.query)((0,c.collection)(b.db,d),(0,c.where)("name","==",a));e&&(f=(0,c.query)(f,(0,c.where)("workspaceId","==",e)));let g=await (0,c.getDocs)(f);if(!g.empty)return g.docs[0].data()}async function k(a){return(await f(a)).map(a=>a.name)}a.s(["createKeyword",()=>e,"deleteKeyword",()=>h,"getAllKeywords",()=>f,"getAllUsedKeywords",()=>k,"getKeyword",()=>g,"getKeywordByName",()=>j,"getKeywordUsageCount",()=>i])},54202,a=>{"use strict";var b=a.i(38121);function c({label:a,error:c,className:d="",...e}){return(0,b.jsxs)("div",{className:"w-full",children:[a&&(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2 transition-colors",children:a}),(0,b.jsx)("input",{className:`
                    w-full px-4 py-2.5
                    bg-background/50
                    border border-input
                    rounded-md
                    text-sm
                    text-foreground
                    placeholder:text-muted-foreground
                    focus:outline-none 
                    focus:ring-2 
                    focus:ring-primary/50 
                    focus:border-primary
                    focus:bg-background/80
                    disabled:cursor-not-allowed disabled:opacity-50
                    transition-all duration-300 ease-out
                    hover:border-input/80
                    shadow-sm focus:shadow-md
                    ${c?"border-destructive focus:ring-destructive/50 focus:border-destructive":""}
                    ${d}
                `,...e}),c&&(0,b.jsx)("p",{className:"mt-2 text-xs text-destructive animate-slide-up",children:c})]})}a.s(["Input",()=>c])},32450,a=>{"use strict";let b=(0,a.i(24076).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],32450)},49253,a=>{"use strict";var b=a.i(38121);function c({className:a=""}){return(0,b.jsx)("div",{className:`
                animate-pulse rounded-md bg-muted/60
                relative overflow-hidden
                before:absolute before:inset-0
                before:-translate-x-full
                before:animate-[shimmer_2s_infinite]
                before:bg-gradient-to-r
                before:from-transparent before:via-white/10 before:to-transparent
                ${a}
            `})}a.s(["Skeleton",()=>c])},12322,a=>{"use strict";var b=a.i(38121),c=a.i(7600),d=a.i(9340),e=a.i(96821);function f({value:a,onChange:f,placeholder:g="Search prompts..."}){let[h,i]=(0,e.useState)(a);return(0,e.useEffect)(()=>{i(a)},[a]),(0,e.useEffect)(()=>{let a=setTimeout(()=>{f(h)},300);return()=>clearTimeout(a)},[h,f]),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(c.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:g,className:"   w-full pl-9 pr-9 py-2   rounded-md text-sm   bg-background border border-input   focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary   transition-all   placeholder:text-muted-foreground   text-foreground   "}),h&&(0,b.jsx)("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:(0,b.jsx)(d.X,{className:"w-3.5 h-3.5"})})]})}a.s(["SearchBar",()=>f])},51805,a=>{"use strict";var b=a.i(38121),c=a.i(96821),d=a.i(73752),e=a.i(32450),f=a.i(75345),g=a.i(93844);let h=(0,f.create)(a=>({keywords:[],usedKeywords:[],isLoading:!1,loadKeywords:async()=>{a({isLoading:!0});try{let b=await (0,g.getAllKeywords)();a({keywords:b,isLoading:!1})}catch(b){console.error("Failed to load keywords:",b),a({isLoading:!1})}},loadUsedKeywords:async()=>{try{let b=await (0,g.getAllUsedKeywords)();a({usedKeywords:b})}catch(a){console.error("Failed to load used keywords:",a)}},createKeyword:async b=>{let c=await (0,g.createKeyword)(b);return a(a=>({keywords:[...a.keywords,c]})),c},deleteKeyword:async b=>{await (0,g.deleteKeyword)(b),a(a=>({keywords:a.keywords.filter(a=>a.id!==b)}))},getKeywordUsageCount:async a=>(0,g.getKeywordUsageCount)(a)}));var i=a.i(58972),j=a.i(70709),k=a.i(54202),l=a.i(49253),m=a.i(12322);function n(){let a=h(a=>a.keywords),f=h(a=>a.loadKeywords),g=h(a=>a.createKeyword),n=h(a=>a.deleteKeyword),o=h(a=>a.getKeywordUsageCount),p=(0,i.useToast)(),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)({}),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{await f(),z(!1)})()},[f]),(0,c.useEffect)(()=>{let b=async()=>{let b={};for(let c of a)b[c.name]=await o(c.name);v(b)};a.length>0&&b()},[a,o]);let A=async()=>{let b=q.trim();if(!b)return void p.error("Keyword name cannot be empty");if(a.some(a=>a.name.toLowerCase()===b.toLowerCase()))return void p.error("Keyword already exists");x(!0);try{await g(b),r(""),p.success("Keyword added")}catch(a){p.error("Failed to add keyword"),console.error(a)}finally{x(!1)}},B=async a=>{let b=u[a.name]||0;if(!(b>0)||confirm(`"${a.name}" is used in ${b} prompt(s). Delete anyway? It will be removed from those prompts.`))try{await n(a.id),p.success("Keyword deleted")}catch(a){p.error("Failed to delete keyword"),console.error(a)}},C=a.filter(a=>a.name.toLowerCase().includes(s.toLowerCase()));return y?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 px-8 py-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(l.Skeleton,{className:"h-8 w-48 mb-2"}),(0,b.jsx)(l.Skeleton,{className:"h-4 w-64"})]}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 shadow-sm",children:[(0,b.jsx)(l.Skeleton,{className:"h-4 w-24 mb-2"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(l.Skeleton,{className:"h-10 flex-1 rounded-md"}),(0,b.jsx)(l.Skeleton,{className:"h-10 w-20 rounded-md"})]})]}),(0,b.jsx)("div",{className:"space-y-2",children:Array.from({length:5}).map((a,c)=>(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-3 flex justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(l.Skeleton,{className:"h-6 w-24 rounded-md"}),(0,b.jsx)(l.Skeleton,{className:"h-4 w-32"})]})},c))})]}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6 px-8 py-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-1",children:"Keywords"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Manage keywords for better prompt organization and discovery"})]}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 shadow-sm",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Add Keyword"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(k.Input,{value:q,onChange:a=>r(a.target.value),onKeyPress:a=>{"Enter"===a.key&&A()},placeholder:"e.g., SEO, Marketing, Tutorial",className:"flex-1"}),(0,b.jsxs)(j.Button,{onClick:A,isLoading:w,children:[(0,b.jsx)(d.Plus,{className:"w-4 h-4"}),"Add"]})]})]}),a.length>0&&(0,b.jsx)(m.SearchBar,{value:s,onChange:t,placeholder:"Search keywords..."}),0===a.length?(0,b.jsxs)("div",{className:"bg-card/50 border border-border border-dashed rounded-lg p-16 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-6 opacity-50",children:"ðŸ·ï¸"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No keywords yet"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Add your first keyword to improve prompt searchability"})]}):0===C.length?(0,b.jsx)("div",{className:"bg-card border border-border rounded-lg p-8 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No keywords match your search"})}):(0,b.jsx)("div",{className:"space-y-2",children:C.map(a=>(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-3 transition-all hover:border-primary/40 group flex items-center justify-between shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 bg-secondary text-secondary-foreground rounded-md text-sm font-medium",children:a.name}),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Used in ",u[a.name]||0," prompt(s)"]})]}),(0,b.jsx)("button",{onClick:()=>B(a),className:"p-2 opacity-0 group-hover:opacity-100 hover:bg-destructive/10 rounded text-muted-foreground hover:text-destructive transition-all",title:"Delete",children:(0,b.jsx)(e.Trash2,{className:"w-4 h-4"})})]},a.id))}),a.length>0&&(0,b.jsxs)("div",{className:"text-center text-xs text-muted-foreground",children:[C.length," of ",a.length," keyword(s)"]})]})}function o(){return(0,b.jsx)(n,{})}a.s(["default",()=>o],51805)}];

//# sourceMappingURL=botbrains-nextjs_870e70a3._.js.map